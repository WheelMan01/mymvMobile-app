{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":26,"index":96}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"fetchLogosFromAPI\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosFromAPI;\n    }\n  });\n  Object.defineProperty(exports, \"fetchLogosWithCache\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosWithCache;\n    }\n  });\n  Object.defineProperty(exports, \"clearLogosCache\", {\n    enumerable: true,\n    get: function () {\n      return clearLogosCache;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_BASE = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://vehicle-hub-118.preview.emergentagent.com';\n  const CACHE_KEY = 'app_logos_cache';\n  const CACHE_EXPIRY_KEY = 'app_logos_cache_expiry';\n  const CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\n  const fetchLogosFromAPI = async () => {\n    try {\n      const response = await axios.default.get(`${API_BASE}/api/settings`);\n      if (response.data?.status === 'success' && response.data?.data) {\n        return {\n          logo_light_bg: response.data.data.logo_light_bg || null,\n          logo_dark_bg: response.data.data.logo_dark_bg || null,\n          logo_footer: response.data.data.logo_footer || null,\n          logo_colored_bg: response.data.data.logo_colored_bg || null\n        };\n      }\n      throw new Error('Invalid API response');\n    } catch (error) {\n      console.error('Error fetching logos from API:', error);\n      throw error;\n    }\n  };\n  const fetchLogosWithCache = async () => {\n    try {\n      // Try to get from cache first\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      const cacheExpiry = await AsyncStorage.default.getItem(CACHE_EXPIRY_KEY);\n      if (cachedData && cacheExpiry) {\n        const expiry = parseInt(cacheExpiry, 10);\n        const now = Date.now();\n\n        // If cache is still valid\n        if (now < expiry) {\n          console.log('‚úÖ Using cached logos');\n          return JSON.parse(cachedData);\n        }\n      }\n\n      // Cache expired or doesn't exist, fetch from API\n      console.log('üîÑ Fetching logos from API...');\n      const logos = await fetchLogosFromAPI();\n\n      // Save to cache\n      await AsyncStorage.default.setItem(CACHE_KEY, JSON.stringify(logos));\n      await AsyncStorage.default.setItem(CACHE_EXPIRY_KEY, (Date.now() + CACHE_DURATION).toString());\n      console.log('‚úÖ Logos fetched and cached');\n      return logos;\n    } catch (error) {\n      console.error('Error in fetchLogosWithCache:', error);\n\n      // Try to return stale cache as fallback\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      if (cachedData) {\n        console.log('‚ö†Ô∏è Using stale cache as fallback');\n        return JSON.parse(cachedData);\n      }\n\n      // Return empty logos if all fails\n      return {\n        logo_light_bg: null,\n        logo_dark_bg: null,\n        logo_footer: null,\n        logo_colored_bg: null\n      };\n    }\n  };\n  const clearLogosCache = async () => {\n    await AsyncStorage.default.removeItem(CACHE_KEY);\n    await AsyncStorage.default.removeItem(CACHE_EXPIRY_KEY);\n    console.log('üóëÔ∏è Logos cache cleared');\n  };\n});","lineCount":106,"map":[[12,2,21,0,"Object"],[12,8,21,0],[12,9,21,0,"defineProperty"],[12,23,21,0],[12,24,21,0,"exports"],[12,31,21,0],[13,4,21,0,"enumerable"],[13,14,21,0],[14,4,21,0,"get"],[14,7,21,0],[14,18,21,0,"get"],[14,19,21,0],[15,6,21,0],[15,13,21,0,"fetchLogosFromAPI"],[15,30,21,0],[16,4,21,0],[17,2,21,0],[18,2,41,0,"Object"],[18,8,41,0],[18,9,41,0,"defineProperty"],[18,23,41,0],[18,24,41,0,"exports"],[18,31,41,0],[19,4,41,0,"enumerable"],[19,14,41,0],[20,4,41,0,"get"],[20,7,41,0],[20,18,41,0,"get"],[20,19,41,0],[21,6,41,0],[21,13,41,0,"fetchLogosWithCache"],[21,32,41,0],[22,4,41,0],[23,2,41,0],[24,2,88,0,"Object"],[24,8,88,0],[24,9,88,0,"defineProperty"],[24,23,88,0],[24,24,88,0,"exports"],[24,31,88,0],[25,4,88,0,"enumerable"],[25,14,88,0],[26,4,88,0,"get"],[26,7,88,0],[26,18,88,0,"get"],[26,19,88,0],[27,6,88,0],[27,13,88,0,"clearLogosCache"],[27,28,88,0],[28,4,88,0],[29,2,88,0],[30,2,92,2],[30,6,92,2,"_expoVirtualEnv"],[30,21,92,2],[30,24,92,2,"require"],[30,31,92,2],[30,32,92,2,"_dependencyMap"],[30,46,92,2],[31,2,1,0],[31,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[31,42,1,0],[31,45,1,0,"require"],[31,52,1,0],[31,53,1,0,"_dependencyMap"],[31,67,1,0],[32,2,1,0],[32,6,1,0,"AsyncStorage"],[32,18,1,0],[32,21,1,0,"_interopDefault"],[32,36,1,0],[32,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[32,73,1,0],[33,2,2,0],[33,6,2,0,"_axios"],[33,12,2,0],[33,15,2,0,"require"],[33,22,2,0],[33,23,2,0,"_dependencyMap"],[33,37,2,0],[34,2,2,0],[34,6,2,0,"axios"],[34,11,2,0],[34,14,2,0,"_interopDefault"],[34,29,2,0],[34,30,2,0,"_axios"],[34,36,2,0],[35,2,4,0],[35,8,4,6,"API_BASE"],[35,16,4,14],[35,19,4,17,"_expoVirtualEnv"],[35,34,4,17],[35,35,4,17,"env"],[35,38,4,17],[35,39,4,17,"EXPO_PUBLIC_BACKEND_URL"],[35,62,4,17],[35,66,4,56],[35,118,4,108],[36,2,5,0],[36,8,5,6,"CACHE_KEY"],[36,17,5,15],[36,20,5,18],[36,37,5,35],[37,2,6,0],[37,8,6,6,"CACHE_EXPIRY_KEY"],[37,24,6,22],[37,27,6,25],[37,51,6,49],[38,2,7,0],[38,8,7,6,"CACHE_DURATION"],[38,22,7,20],[38,25,7,23],[38,27,7,25],[38,30,7,28],[38,32,7,30],[38,35,7,33],[38,37,7,35],[38,40,7,38],[38,44,7,42],[38,45,7,43],[38,46,7,44],[40,2,21,7],[40,8,21,13,"fetchLogosFromAPI"],[40,25,21,30],[40,28,21,33],[40,34,21,33,"fetchLogosFromAPI"],[40,35,21,33],[40,40,21,69],[41,4,22,2],[41,8,22,6],[42,6,23,4],[42,12,23,10,"response"],[42,20,23,18],[42,23,23,21],[42,29,23,27,"axios"],[42,34,23,32],[42,35,23,32,"default"],[42,42,23,32],[42,43,23,33,"get"],[42,46,23,36],[42,47,23,37],[42,50,23,40,"API_BASE"],[42,58,23,48],[42,73,23,63],[42,74,23,64],[43,6,25,4],[43,10,25,8,"response"],[43,18,25,16],[43,19,25,17,"data"],[43,23,25,21],[43,25,25,23,"status"],[43,31,25,29],[43,36,25,34],[43,45,25,43],[43,49,25,47,"response"],[43,57,25,55],[43,58,25,56,"data"],[43,62,25,60],[43,64,25,62,"data"],[43,68,25,66],[43,70,25,68],[44,8,26,6],[44,15,26,13],[45,10,27,8,"logo_light_bg"],[45,23,27,21],[45,25,27,23,"response"],[45,33,27,31],[45,34,27,32,"data"],[45,38,27,36],[45,39,27,37,"data"],[45,43,27,41],[45,44,27,42,"logo_light_bg"],[45,57,27,55],[45,61,27,59],[45,65,27,63],[46,10,28,8,"logo_dark_bg"],[46,22,28,20],[46,24,28,22,"response"],[46,32,28,30],[46,33,28,31,"data"],[46,37,28,35],[46,38,28,36,"data"],[46,42,28,40],[46,43,28,41,"logo_dark_bg"],[46,55,28,53],[46,59,28,57],[46,63,28,61],[47,10,29,8,"logo_footer"],[47,21,29,19],[47,23,29,21,"response"],[47,31,29,29],[47,32,29,30,"data"],[47,36,29,34],[47,37,29,35,"data"],[47,41,29,39],[47,42,29,40,"logo_footer"],[47,53,29,51],[47,57,29,55],[47,61,29,59],[48,10,30,8,"logo_colored_bg"],[48,25,30,23],[48,27,30,25,"response"],[48,35,30,33],[48,36,30,34,"data"],[48,40,30,38],[48,41,30,39,"data"],[48,45,30,43],[48,46,30,44,"logo_colored_bg"],[48,61,30,59],[48,65,30,63],[49,8,31,6],[49,9,31,7],[50,6,32,4],[51,6,34,4],[51,12,34,10],[51,16,34,14,"Error"],[51,21,34,19],[51,22,34,20],[51,44,34,42],[51,45,34,43],[52,4,35,2],[52,5,35,3],[52,6,35,4],[52,13,35,11,"error"],[52,18,35,16],[52,20,35,18],[53,6,36,4,"console"],[53,13,36,11],[53,14,36,12,"error"],[53,19,36,17],[53,20,36,18],[53,52,36,50],[53,54,36,52,"error"],[53,59,36,57],[53,60,36,58],[54,6,37,4],[54,12,37,10,"error"],[54,17,37,15],[55,4,38,2],[56,2,39,0],[56,3,39,1],[57,2,41,7],[57,8,41,13,"fetchLogosWithCache"],[57,27,41,32],[57,30,41,35],[57,36,41,35,"fetchLogosWithCache"],[57,37,41,35],[57,42,41,71],[58,4,42,2],[58,8,42,6],[59,6,43,4],[60,6,44,4],[60,12,44,10,"cachedData"],[60,22,44,20],[60,25,44,23],[60,31,44,29,"AsyncStorage"],[60,43,44,41],[60,44,44,41,"default"],[60,51,44,41],[60,52,44,42,"getItem"],[60,59,44,49],[60,60,44,50,"CACHE_KEY"],[60,69,44,59],[60,70,44,60],[61,6,45,4],[61,12,45,10,"cacheExpiry"],[61,23,45,21],[61,26,45,24],[61,32,45,30,"AsyncStorage"],[61,44,45,42],[61,45,45,42,"default"],[61,52,45,42],[61,53,45,43,"getItem"],[61,60,45,50],[61,61,45,51,"CACHE_EXPIRY_KEY"],[61,77,45,67],[61,78,45,68],[62,6,47,4],[62,10,47,8,"cachedData"],[62,20,47,18],[62,24,47,22,"cacheExpiry"],[62,35,47,33],[62,37,47,35],[63,8,48,6],[63,14,48,12,"expiry"],[63,20,48,18],[63,23,48,21,"parseInt"],[63,31,48,29],[63,32,48,30,"cacheExpiry"],[63,43,48,41],[63,45,48,43],[63,47,48,45],[63,48,48,46],[64,8,49,6],[64,14,49,12,"now"],[64,17,49,15],[64,20,49,18,"Date"],[64,24,49,22],[64,25,49,23,"now"],[64,28,49,26],[64,29,49,27],[64,30,49,28],[66,8,51,6],[67,8,52,6],[67,12,52,10,"now"],[67,15,52,13],[67,18,52,16,"expiry"],[67,24,52,22],[67,26,52,24],[68,10,53,8,"console"],[68,17,53,15],[68,18,53,16,"log"],[68,21,53,19],[68,22,53,20],[68,44,53,42],[68,45,53,43],[69,10,54,8],[69,17,54,15,"JSON"],[69,21,54,19],[69,22,54,20,"parse"],[69,27,54,25],[69,28,54,26,"cachedData"],[69,38,54,36],[69,39,54,37],[70,8,55,6],[71,6,56,4],[73,6,58,4],[74,6,59,4,"console"],[74,13,59,11],[74,14,59,12,"log"],[74,17,59,15],[74,18,59,16],[74,49,59,47],[74,50,59,48],[75,6,60,4],[75,12,60,10,"logos"],[75,17,60,15],[75,20,60,18],[75,26,60,24,"fetchLogosFromAPI"],[75,43,60,41],[75,44,60,42],[75,45,60,43],[77,6,62,4],[78,6,63,4],[78,12,63,10,"AsyncStorage"],[78,24,63,22],[78,25,63,22,"default"],[78,32,63,22],[78,33,63,23,"setItem"],[78,40,63,30],[78,41,63,31,"CACHE_KEY"],[78,50,63,40],[78,52,63,42,"JSON"],[78,56,63,46],[78,57,63,47,"stringify"],[78,66,63,56],[78,67,63,57,"logos"],[78,72,63,62],[78,73,63,63],[78,74,63,64],[79,6,64,4],[79,12,64,10,"AsyncStorage"],[79,24,64,22],[79,25,64,22,"default"],[79,32,64,22],[79,33,64,23,"setItem"],[79,40,64,30],[79,41,64,31,"CACHE_EXPIRY_KEY"],[79,57,64,47],[79,59,64,49],[79,60,64,50,"Date"],[79,64,64,54],[79,65,64,55,"now"],[79,68,64,58],[79,69,64,59],[79,70,64,60],[79,73,64,63,"CACHE_DURATION"],[79,87,64,77],[79,89,64,79,"toString"],[79,97,64,87],[79,98,64,88],[79,99,64,89],[79,100,64,90],[80,6,66,4,"console"],[80,13,66,11],[80,14,66,12,"log"],[80,17,66,15],[80,18,66,16],[80,46,66,44],[80,47,66,45],[81,6,67,4],[81,13,67,11,"logos"],[81,18,67,16],[82,4,68,2],[82,5,68,3],[82,6,68,4],[82,13,68,11,"error"],[82,18,68,16],[82,20,68,18],[83,6,69,4,"console"],[83,13,69,11],[83,14,69,12,"error"],[83,19,69,17],[83,20,69,18],[83,51,69,49],[83,53,69,51,"error"],[83,58,69,56],[83,59,69,57],[85,6,71,4],[86,6,72,4],[86,12,72,10,"cachedData"],[86,22,72,20],[86,25,72,23],[86,31,72,29,"AsyncStorage"],[86,43,72,41],[86,44,72,41,"default"],[86,51,72,41],[86,52,72,42,"getItem"],[86,59,72,49],[86,60,72,50,"CACHE_KEY"],[86,69,72,59],[86,70,72,60],[87,6,73,4],[87,10,73,8,"cachedData"],[87,20,73,18],[87,22,73,20],[88,8,74,6,"console"],[88,15,74,13],[88,16,74,14,"log"],[88,19,74,17],[88,20,74,18],[88,54,74,52],[88,55,74,53],[89,8,75,6],[89,15,75,13,"JSON"],[89,19,75,17],[89,20,75,18,"parse"],[89,25,75,23],[89,26,75,24,"cachedData"],[89,36,75,34],[89,37,75,35],[90,6,76,4],[92,6,78,4],[93,6,79,4],[93,13,79,11],[94,8,80,6,"logo_light_bg"],[94,21,80,19],[94,23,80,21],[94,27,80,25],[95,8,81,6,"logo_dark_bg"],[95,20,81,18],[95,22,81,20],[95,26,81,24],[96,8,82,6,"logo_footer"],[96,19,82,17],[96,21,82,19],[96,25,82,23],[97,8,83,6,"logo_colored_bg"],[97,23,83,21],[97,25,83,23],[98,6,84,4],[98,7,84,5],[99,4,85,2],[100,2,86,0],[100,3,86,1],[101,2,88,7],[101,8,88,13,"clearLogosCache"],[101,23,88,28],[101,26,88,31],[101,32,88,31,"clearLogosCache"],[101,33,88,31],[101,38,88,58],[102,4,89,2],[102,10,89,8,"AsyncStorage"],[102,22,89,20],[102,23,89,20,"default"],[102,30,89,20],[102,31,89,21,"removeItem"],[102,41,89,31],[102,42,89,32,"CACHE_KEY"],[102,51,89,41],[102,52,89,42],[103,4,90,2],[103,10,90,8,"AsyncStorage"],[103,22,90,20],[103,23,90,20,"default"],[103,30,90,20],[103,31,90,21,"removeItem"],[103,41,90,31],[103,42,90,32,"CACHE_EXPIRY_KEY"],[103,58,90,48],[103,59,90,49],[104,4,91,2,"console"],[104,11,91,9],[104,12,91,10,"log"],[104,15,91,13],[104,16,91,14],[104,41,91,39],[104,42,91,40],[105,2,92,0],[105,3,92,1],[106,0,92,2],[106,3]],"functionMap":{"names":["<global>","fetchLogosFromAPI","fetchLogosWithCache","clearLogosCache"],"mappings":"AAA;iCCoB;CDkB;mCEE;CF6C;+BGE;CHI"},"hasCjsExports":false},"type":"js/module"}]}