{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":26,"index":96}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../backend-config.json","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":51,"index":148}}],"key":"Yg9oI/i39ksdVhZMppaxMFSSHg8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"fetchLogosFromAPI\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosFromAPI;\n    }\n  });\n  Object.defineProperty(exports, \"fetchLogosWithCache\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosWithCache;\n    }\n  });\n  Object.defineProperty(exports, \"clearLogosCache\", {\n    enumerable: true,\n    get: function () {\n      return clearLogosCache;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _backendConfigJson = require(_dependencyMap[3], \"../backend-config.json\");\n  var backendConfig = _interopDefault(_backendConfigJson);\n  const API_BASE = backendConfig.default.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://autospecs.preview.emergentagent.com';\n  const CACHE_KEY = 'app_logos_cache';\n  const CACHE_EXPIRY_KEY = 'app_logos_cache_expiry';\n  const CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\n  const fetchLogosFromAPI = async () => {\n    try {\n      const response = await axios.default.get(`${API_BASE}/api/settings`);\n      if (response.data?.status === 'success' && response.data?.data) {\n        return {\n          logo_light_bg: response.data.data.logo_light_bg || null,\n          logo_dark_bg: response.data.data.logo_dark_bg || null,\n          logo_footer: response.data.data.logo_footer || null,\n          logo_colored_bg: response.data.data.logo_colored_bg || null\n        };\n      }\n      throw new Error('Invalid API response');\n    } catch (error) {\n      console.error('Error fetching logos from API:', error);\n      throw error;\n    }\n  };\n  const fetchLogosWithCache = async () => {\n    try {\n      // Try to get from cache first\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      const cacheExpiry = await AsyncStorage.default.getItem(CACHE_EXPIRY_KEY);\n      if (cachedData && cacheExpiry) {\n        const expiry = parseInt(cacheExpiry, 10);\n        const now = Date.now();\n\n        // If cache is still valid\n        if (now < expiry) {\n          console.log('‚úÖ Using cached logos');\n          return JSON.parse(cachedData);\n        }\n      }\n\n      // Cache expired or doesn't exist, fetch from API\n      console.log('üîÑ Fetching logos from API...');\n      const logos = await fetchLogosFromAPI();\n\n      // Save to cache\n      await AsyncStorage.default.setItem(CACHE_KEY, JSON.stringify(logos));\n      await AsyncStorage.default.setItem(CACHE_EXPIRY_KEY, (Date.now() + CACHE_DURATION).toString());\n      console.log('‚úÖ Logos fetched and cached');\n      return logos;\n    } catch (error) {\n      console.error('Error in fetchLogosWithCache:', error);\n\n      // Try to return stale cache as fallback\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      if (cachedData) {\n        console.log('‚ö†Ô∏è Using stale cache as fallback');\n        return JSON.parse(cachedData);\n      }\n\n      // Return empty logos if all fails\n      return {\n        logo_light_bg: null,\n        logo_dark_bg: null,\n        logo_footer: null,\n        logo_colored_bg: null\n      };\n    }\n  };\n  const clearLogosCache = async () => {\n    await AsyncStorage.default.removeItem(CACHE_KEY);\n    await AsyncStorage.default.removeItem(CACHE_EXPIRY_KEY);\n    console.log('üóëÔ∏è Logos cache cleared');\n  };\n});","lineCount":108,"map":[[12,2,22,0,"Object"],[12,8,22,0],[12,9,22,0,"defineProperty"],[12,23,22,0],[12,24,22,0,"exports"],[12,31,22,0],[13,4,22,0,"enumerable"],[13,14,22,0],[14,4,22,0,"get"],[14,7,22,0],[14,18,22,0,"get"],[14,19,22,0],[15,6,22,0],[15,13,22,0,"fetchLogosFromAPI"],[15,30,22,0],[16,4,22,0],[17,2,22,0],[18,2,42,0,"Object"],[18,8,42,0],[18,9,42,0,"defineProperty"],[18,23,42,0],[18,24,42,0,"exports"],[18,31,42,0],[19,4,42,0,"enumerable"],[19,14,42,0],[20,4,42,0,"get"],[20,7,42,0],[20,18,42,0,"get"],[20,19,42,0],[21,6,42,0],[21,13,42,0,"fetchLogosWithCache"],[21,32,42,0],[22,4,42,0],[23,2,42,0],[24,2,89,0,"Object"],[24,8,89,0],[24,9,89,0,"defineProperty"],[24,23,89,0],[24,24,89,0,"exports"],[24,31,89,0],[25,4,89,0,"enumerable"],[25,14,89,0],[26,4,89,0,"get"],[26,7,89,0],[26,18,89,0,"get"],[26,19,89,0],[27,6,89,0],[27,13,89,0,"clearLogosCache"],[27,28,89,0],[28,4,89,0],[29,2,89,0],[30,2,93,2],[30,6,93,2,"_expoVirtualEnv"],[30,21,93,2],[30,24,93,2,"require"],[30,31,93,2],[30,32,93,2,"_dependencyMap"],[30,46,93,2],[31,2,1,0],[31,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[31,42,1,0],[31,45,1,0,"require"],[31,52,1,0],[31,53,1,0,"_dependencyMap"],[31,67,1,0],[32,2,1,0],[32,6,1,0,"AsyncStorage"],[32,18,1,0],[32,21,1,0,"_interopDefault"],[32,36,1,0],[32,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[32,73,1,0],[33,2,2,0],[33,6,2,0,"_axios"],[33,12,2,0],[33,15,2,0,"require"],[33,22,2,0],[33,23,2,0,"_dependencyMap"],[33,37,2,0],[34,2,2,0],[34,6,2,0,"axios"],[34,11,2,0],[34,14,2,0,"_interopDefault"],[34,29,2,0],[34,30,2,0,"_axios"],[34,36,2,0],[35,2,3,0],[35,6,3,0,"_backendConfigJson"],[35,24,3,0],[35,27,3,0,"require"],[35,34,3,0],[35,35,3,0,"_dependencyMap"],[35,49,3,0],[36,2,3,0],[36,6,3,0,"backendConfig"],[36,19,3,0],[36,22,3,0,"_interopDefault"],[36,37,3,0],[36,38,3,0,"_backendConfigJson"],[36,56,3,0],[37,2,5,0],[37,8,5,6,"API_BASE"],[37,16,5,14],[37,19,5,17,"backendConfig"],[37,32,5,30],[37,33,5,30,"default"],[37,40,5,30],[37,41,5,31,"backendUrl"],[37,51,5,41],[37,55,5,41,"_expoVirtualEnv"],[37,70,5,41],[37,71,5,41,"env"],[37,74,5,41],[37,75,5,41,"EXPO_PUBLIC_BACKEND_URL"],[37,98,5,80],[37,102,5,84],[37,154,5,136],[38,2,6,0],[38,8,6,6,"CACHE_KEY"],[38,17,6,15],[38,20,6,18],[38,37,6,35],[39,2,7,0],[39,8,7,6,"CACHE_EXPIRY_KEY"],[39,24,7,22],[39,27,7,25],[39,51,7,49],[40,2,8,0],[40,8,8,6,"CACHE_DURATION"],[40,22,8,20],[40,25,8,23],[40,27,8,25],[40,30,8,28],[40,32,8,30],[40,35,8,33],[40,37,8,35],[40,40,8,38],[40,44,8,42],[40,45,8,43],[40,46,8,44],[42,2,22,7],[42,8,22,13,"fetchLogosFromAPI"],[42,25,22,30],[42,28,22,33],[42,34,22,33,"fetchLogosFromAPI"],[42,35,22,33],[42,40,22,69],[43,4,23,2],[43,8,23,6],[44,6,24,4],[44,12,24,10,"response"],[44,20,24,18],[44,23,24,21],[44,29,24,27,"axios"],[44,34,24,32],[44,35,24,32,"default"],[44,42,24,32],[44,43,24,33,"get"],[44,46,24,36],[44,47,24,37],[44,50,24,40,"API_BASE"],[44,58,24,48],[44,73,24,63],[44,74,24,64],[45,6,26,4],[45,10,26,8,"response"],[45,18,26,16],[45,19,26,17,"data"],[45,23,26,21],[45,25,26,23,"status"],[45,31,26,29],[45,36,26,34],[45,45,26,43],[45,49,26,47,"response"],[45,57,26,55],[45,58,26,56,"data"],[45,62,26,60],[45,64,26,62,"data"],[45,68,26,66],[45,70,26,68],[46,8,27,6],[46,15,27,13],[47,10,28,8,"logo_light_bg"],[47,23,28,21],[47,25,28,23,"response"],[47,33,28,31],[47,34,28,32,"data"],[47,38,28,36],[47,39,28,37,"data"],[47,43,28,41],[47,44,28,42,"logo_light_bg"],[47,57,28,55],[47,61,28,59],[47,65,28,63],[48,10,29,8,"logo_dark_bg"],[48,22,29,20],[48,24,29,22,"response"],[48,32,29,30],[48,33,29,31,"data"],[48,37,29,35],[48,38,29,36,"data"],[48,42,29,40],[48,43,29,41,"logo_dark_bg"],[48,55,29,53],[48,59,29,57],[48,63,29,61],[49,10,30,8,"logo_footer"],[49,21,30,19],[49,23,30,21,"response"],[49,31,30,29],[49,32,30,30,"data"],[49,36,30,34],[49,37,30,35,"data"],[49,41,30,39],[49,42,30,40,"logo_footer"],[49,53,30,51],[49,57,30,55],[49,61,30,59],[50,10,31,8,"logo_colored_bg"],[50,25,31,23],[50,27,31,25,"response"],[50,35,31,33],[50,36,31,34,"data"],[50,40,31,38],[50,41,31,39,"data"],[50,45,31,43],[50,46,31,44,"logo_colored_bg"],[50,61,31,59],[50,65,31,63],[51,8,32,6],[51,9,32,7],[52,6,33,4],[53,6,35,4],[53,12,35,10],[53,16,35,14,"Error"],[53,21,35,19],[53,22,35,20],[53,44,35,42],[53,45,35,43],[54,4,36,2],[54,5,36,3],[54,6,36,4],[54,13,36,11,"error"],[54,18,36,16],[54,20,36,18],[55,6,37,4,"console"],[55,13,37,11],[55,14,37,12,"error"],[55,19,37,17],[55,20,37,18],[55,52,37,50],[55,54,37,52,"error"],[55,59,37,57],[55,60,37,58],[56,6,38,4],[56,12,38,10,"error"],[56,17,38,15],[57,4,39,2],[58,2,40,0],[58,3,40,1],[59,2,42,7],[59,8,42,13,"fetchLogosWithCache"],[59,27,42,32],[59,30,42,35],[59,36,42,35,"fetchLogosWithCache"],[59,37,42,35],[59,42,42,71],[60,4,43,2],[60,8,43,6],[61,6,44,4],[62,6,45,4],[62,12,45,10,"cachedData"],[62,22,45,20],[62,25,45,23],[62,31,45,29,"AsyncStorage"],[62,43,45,41],[62,44,45,41,"default"],[62,51,45,41],[62,52,45,42,"getItem"],[62,59,45,49],[62,60,45,50,"CACHE_KEY"],[62,69,45,59],[62,70,45,60],[63,6,46,4],[63,12,46,10,"cacheExpiry"],[63,23,46,21],[63,26,46,24],[63,32,46,30,"AsyncStorage"],[63,44,46,42],[63,45,46,42,"default"],[63,52,46,42],[63,53,46,43,"getItem"],[63,60,46,50],[63,61,46,51,"CACHE_EXPIRY_KEY"],[63,77,46,67],[63,78,46,68],[64,6,48,4],[64,10,48,8,"cachedData"],[64,20,48,18],[64,24,48,22,"cacheExpiry"],[64,35,48,33],[64,37,48,35],[65,8,49,6],[65,14,49,12,"expiry"],[65,20,49,18],[65,23,49,21,"parseInt"],[65,31,49,29],[65,32,49,30,"cacheExpiry"],[65,43,49,41],[65,45,49,43],[65,47,49,45],[65,48,49,46],[66,8,50,6],[66,14,50,12,"now"],[66,17,50,15],[66,20,50,18,"Date"],[66,24,50,22],[66,25,50,23,"now"],[66,28,50,26],[66,29,50,27],[66,30,50,28],[68,8,52,6],[69,8,53,6],[69,12,53,10,"now"],[69,15,53,13],[69,18,53,16,"expiry"],[69,24,53,22],[69,26,53,24],[70,10,54,8,"console"],[70,17,54,15],[70,18,54,16,"log"],[70,21,54,19],[70,22,54,20],[70,44,54,42],[70,45,54,43],[71,10,55,8],[71,17,55,15,"JSON"],[71,21,55,19],[71,22,55,20,"parse"],[71,27,55,25],[71,28,55,26,"cachedData"],[71,38,55,36],[71,39,55,37],[72,8,56,6],[73,6,57,4],[75,6,59,4],[76,6,60,4,"console"],[76,13,60,11],[76,14,60,12,"log"],[76,17,60,15],[76,18,60,16],[76,49,60,47],[76,50,60,48],[77,6,61,4],[77,12,61,10,"logos"],[77,17,61,15],[77,20,61,18],[77,26,61,24,"fetchLogosFromAPI"],[77,43,61,41],[77,44,61,42],[77,45,61,43],[79,6,63,4],[80,6,64,4],[80,12,64,10,"AsyncStorage"],[80,24,64,22],[80,25,64,22,"default"],[80,32,64,22],[80,33,64,23,"setItem"],[80,40,64,30],[80,41,64,31,"CACHE_KEY"],[80,50,64,40],[80,52,64,42,"JSON"],[80,56,64,46],[80,57,64,47,"stringify"],[80,66,64,56],[80,67,64,57,"logos"],[80,72,64,62],[80,73,64,63],[80,74,64,64],[81,6,65,4],[81,12,65,10,"AsyncStorage"],[81,24,65,22],[81,25,65,22,"default"],[81,32,65,22],[81,33,65,23,"setItem"],[81,40,65,30],[81,41,65,31,"CACHE_EXPIRY_KEY"],[81,57,65,47],[81,59,65,49],[81,60,65,50,"Date"],[81,64,65,54],[81,65,65,55,"now"],[81,68,65,58],[81,69,65,59],[81,70,65,60],[81,73,65,63,"CACHE_DURATION"],[81,87,65,77],[81,89,65,79,"toString"],[81,97,65,87],[81,98,65,88],[81,99,65,89],[81,100,65,90],[82,6,67,4,"console"],[82,13,67,11],[82,14,67,12,"log"],[82,17,67,15],[82,18,67,16],[82,46,67,44],[82,47,67,45],[83,6,68,4],[83,13,68,11,"logos"],[83,18,68,16],[84,4,69,2],[84,5,69,3],[84,6,69,4],[84,13,69,11,"error"],[84,18,69,16],[84,20,69,18],[85,6,70,4,"console"],[85,13,70,11],[85,14,70,12,"error"],[85,19,70,17],[85,20,70,18],[85,51,70,49],[85,53,70,51,"error"],[85,58,70,56],[85,59,70,57],[87,6,72,4],[88,6,73,4],[88,12,73,10,"cachedData"],[88,22,73,20],[88,25,73,23],[88,31,73,29,"AsyncStorage"],[88,43,73,41],[88,44,73,41,"default"],[88,51,73,41],[88,52,73,42,"getItem"],[88,59,73,49],[88,60,73,50,"CACHE_KEY"],[88,69,73,59],[88,70,73,60],[89,6,74,4],[89,10,74,8,"cachedData"],[89,20,74,18],[89,22,74,20],[90,8,75,6,"console"],[90,15,75,13],[90,16,75,14,"log"],[90,19,75,17],[90,20,75,18],[90,54,75,52],[90,55,75,53],[91,8,76,6],[91,15,76,13,"JSON"],[91,19,76,17],[91,20,76,18,"parse"],[91,25,76,23],[91,26,76,24,"cachedData"],[91,36,76,34],[91,37,76,35],[92,6,77,4],[94,6,79,4],[95,6,80,4],[95,13,80,11],[96,8,81,6,"logo_light_bg"],[96,21,81,19],[96,23,81,21],[96,27,81,25],[97,8,82,6,"logo_dark_bg"],[97,20,82,18],[97,22,82,20],[97,26,82,24],[98,8,83,6,"logo_footer"],[98,19,83,17],[98,21,83,19],[98,25,83,23],[99,8,84,6,"logo_colored_bg"],[99,23,84,21],[99,25,84,23],[100,6,85,4],[100,7,85,5],[101,4,86,2],[102,2,87,0],[102,3,87,1],[103,2,89,7],[103,8,89,13,"clearLogosCache"],[103,23,89,28],[103,26,89,31],[103,32,89,31,"clearLogosCache"],[103,33,89,31],[103,38,89,58],[104,4,90,2],[104,10,90,8,"AsyncStorage"],[104,22,90,20],[104,23,90,20,"default"],[104,30,90,20],[104,31,90,21,"removeItem"],[104,41,90,31],[104,42,90,32,"CACHE_KEY"],[104,51,90,41],[104,52,90,42],[105,4,91,2],[105,10,91,8,"AsyncStorage"],[105,22,91,20],[105,23,91,20,"default"],[105,30,91,20],[105,31,91,21,"removeItem"],[105,41,91,31],[105,42,91,32,"CACHE_EXPIRY_KEY"],[105,58,91,48],[105,59,91,49],[106,4,92,2,"console"],[106,11,92,9],[106,12,92,10,"log"],[106,15,92,13],[106,16,92,14],[106,41,92,39],[106,42,92,40],[107,2,93,0],[107,3,93,1],[108,0,93,2],[108,3]],"functionMap":{"names":["<global>","fetchLogosFromAPI","fetchLogosWithCache","clearLogosCache"],"mappings":"AAA;iCCqB;CDkB;mCEE;CF6C;+BGE;CHI"},"hasCjsExports":false},"type":"js/module"}]}