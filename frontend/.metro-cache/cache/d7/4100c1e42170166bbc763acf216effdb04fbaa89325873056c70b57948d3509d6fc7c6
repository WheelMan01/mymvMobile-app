{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":26,"index":96}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"fetchLogosFromAPI\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosFromAPI;\n    }\n  });\n  Object.defineProperty(exports, \"fetchLogosWithCache\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosWithCache;\n    }\n  });\n  Object.defineProperty(exports, \"clearLogosCache\", {\n    enumerable: true,\n    get: function () {\n      return clearLogosCache;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var API_BASE = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://auto-specs-hub-1.preview.emergentagent.com';\n  var CACHE_KEY = 'app_logos_cache';\n  var CACHE_EXPIRY_KEY = 'app_logos_cache_expiry';\n  var CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\n  var fetchLogosFromAPI = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var response = yield axios.default.get(`${API_BASE}/api/settings`);\n        if (response.data?.status === 'success' && response.data?.data) {\n          return {\n            logo_light_bg: response.data.data.logo_light_bg || null,\n            logo_dark_bg: response.data.data.logo_dark_bg || null,\n            logo_footer: response.data.data.logo_footer || null,\n            logo_colored_bg: response.data.data.logo_colored_bg || null\n          };\n        }\n        throw new Error('Invalid API response');\n      } catch (error) {\n        console.error('Error fetching logos from API:', error);\n        throw error;\n      }\n    });\n    return function fetchLogosFromAPI() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var fetchLogosWithCache = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* () {\n      try {\n        // Try to get from cache first\n        var cachedData = yield AsyncStorage.default.getItem(CACHE_KEY);\n        var cacheExpiry = yield AsyncStorage.default.getItem(CACHE_EXPIRY_KEY);\n        if (cachedData && cacheExpiry) {\n          var expiry = parseInt(cacheExpiry, 10);\n          var now = Date.now();\n\n          // If cache is still valid\n          if (now < expiry) {\n            console.log('âœ… Using cached logos');\n            return JSON.parse(cachedData);\n          }\n        }\n\n        // Cache expired or doesn't exist, fetch from API\n        console.log('ðŸ”„ Fetching logos from API...');\n        var logos = yield fetchLogosFromAPI();\n\n        // Save to cache\n        yield AsyncStorage.default.setItem(CACHE_KEY, JSON.stringify(logos));\n        yield AsyncStorage.default.setItem(CACHE_EXPIRY_KEY, (Date.now() + CACHE_DURATION).toString());\n        console.log('âœ… Logos fetched and cached');\n        return logos;\n      } catch (error) {\n        console.error('Error in fetchLogosWithCache:', error);\n\n        // Try to return stale cache as fallback\n        var _cachedData = yield AsyncStorage.default.getItem(CACHE_KEY);\n        if (_cachedData) {\n          console.log('âš ï¸ Using stale cache as fallback');\n          return JSON.parse(_cachedData);\n        }\n\n        // Return empty logos if all fails\n        return {\n          logo_light_bg: null,\n          logo_dark_bg: null,\n          logo_footer: null,\n          logo_colored_bg: null\n        };\n      }\n    });\n    return function fetchLogosWithCache() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var clearLogosCache = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* () {\n      yield AsyncStorage.default.removeItem(CACHE_KEY);\n      yield AsyncStorage.default.removeItem(CACHE_EXPIRY_KEY);\n      console.log('ðŸ—‘ï¸ Logos cache cleared');\n    });\n    return function clearLogosCache() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n});","lineCount":123,"map":[[12,2,21,0,"Object"],[12,8,21,0],[12,9,21,0,"defineProperty"],[12,23,21,0],[12,24,21,0,"exports"],[12,31,21,0],[13,4,21,0,"enumerable"],[13,14,21,0],[14,4,21,0,"get"],[14,7,21,0],[14,18,21,0,"get"],[14,19,21,0],[15,6,21,0],[15,13,21,0,"fetchLogosFromAPI"],[15,30,21,0],[16,4,21,0],[17,2,21,0],[18,2,41,0,"Object"],[18,8,41,0],[18,9,41,0,"defineProperty"],[18,23,41,0],[18,24,41,0,"exports"],[18,31,41,0],[19,4,41,0,"enumerable"],[19,14,41,0],[20,4,41,0,"get"],[20,7,41,0],[20,18,41,0,"get"],[20,19,41,0],[21,6,41,0],[21,13,41,0,"fetchLogosWithCache"],[21,32,41,0],[22,4,41,0],[23,2,41,0],[24,2,88,0,"Object"],[24,8,88,0],[24,9,88,0,"defineProperty"],[24,23,88,0],[24,24,88,0,"exports"],[24,31,88,0],[25,4,88,0,"enumerable"],[25,14,88,0],[26,4,88,0,"get"],[26,7,88,0],[26,18,88,0,"get"],[26,19,88,0],[27,6,88,0],[27,13,88,0,"clearLogosCache"],[27,28,88,0],[28,4,88,0],[29,2,88,0],[30,2,92,2],[30,6,92,2,"_babelRuntimeHelpersAsyncToGenerator"],[30,42,92,2],[30,45,92,2,"require"],[30,52,92,2],[30,53,92,2,"_dependencyMap"],[30,67,92,2],[31,2,92,2],[31,6,92,2,"_asyncToGenerator"],[31,23,92,2],[31,26,92,2,"_interopDefault"],[31,41,92,2],[31,42,92,2,"_babelRuntimeHelpersAsyncToGenerator"],[31,78,92,2],[32,2,92,2],[32,6,92,2,"_expoVirtualEnv"],[32,21,92,2],[32,24,92,2,"require"],[32,31,92,2],[32,32,92,2,"_dependencyMap"],[32,46,92,2],[33,2,1,0],[33,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[33,42,1,0],[33,45,1,0,"require"],[33,52,1,0],[33,53,1,0,"_dependencyMap"],[33,67,1,0],[34,2,1,0],[34,6,1,0,"AsyncStorage"],[34,18,1,0],[34,21,1,0,"_interopDefault"],[34,36,1,0],[34,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[34,73,1,0],[35,2,2,0],[35,6,2,0,"_axios"],[35,12,2,0],[35,15,2,0,"require"],[35,22,2,0],[35,23,2,0,"_dependencyMap"],[35,37,2,0],[36,2,2,0],[36,6,2,0,"axios"],[36,11,2,0],[36,14,2,0,"_interopDefault"],[36,29,2,0],[36,30,2,0,"_axios"],[36,36,2,0],[37,2,4,0],[37,6,4,6,"API_BASE"],[37,14,4,14],[37,17,4,17,"_expoVirtualEnv"],[37,32,4,17],[37,33,4,17,"env"],[37,36,4,17],[37,37,4,17,"EXPO_PUBLIC_BACKEND_URL"],[37,60,4,17],[37,64,4,56],[37,116,4,108],[38,2,5,0],[38,6,5,6,"CACHE_KEY"],[38,15,5,15],[38,18,5,18],[38,35,5,35],[39,2,6,0],[39,6,6,6,"CACHE_EXPIRY_KEY"],[39,22,6,22],[39,25,6,25],[39,49,6,49],[40,2,7,0],[40,6,7,6,"CACHE_DURATION"],[40,20,7,20],[40,23,7,23],[40,25,7,25],[40,28,7,28],[40,30,7,30],[40,33,7,33],[40,35,7,35],[40,38,7,38],[40,42,7,42],[40,43,7,43],[40,44,7,44],[42,2,21,7],[42,6,21,13,"fetchLogosFromAPI"],[42,23,21,30],[43,4,21,30],[43,8,21,30,"_ref"],[43,12,21,30],[43,19,21,30,"_asyncToGenerator"],[43,36,21,30],[43,37,21,30,"default"],[43,44,21,30],[43,46,21,33],[43,59,21,69],[44,6,22,2],[44,10,22,6],[45,8,23,4],[45,12,23,10,"response"],[45,20,23,18],[45,29,23,27,"axios"],[45,34,23,32],[45,35,23,32,"default"],[45,42,23,32],[45,43,23,33,"get"],[45,46,23,36],[45,47,23,37],[45,50,23,40,"API_BASE"],[45,58,23,48],[45,73,23,63],[45,74,23,64],[46,8,25,4],[46,12,25,8,"response"],[46,20,25,16],[46,21,25,17,"data"],[46,25,25,21],[46,27,25,23,"status"],[46,33,25,29],[46,38,25,34],[46,47,25,43],[46,51,25,47,"response"],[46,59,25,55],[46,60,25,56,"data"],[46,64,25,60],[46,66,25,62,"data"],[46,70,25,66],[46,72,25,68],[47,10,26,6],[47,17,26,13],[48,12,27,8,"logo_light_bg"],[48,25,27,21],[48,27,27,23,"response"],[48,35,27,31],[48,36,27,32,"data"],[48,40,27,36],[48,41,27,37,"data"],[48,45,27,41],[48,46,27,42,"logo_light_bg"],[48,59,27,55],[48,63,27,59],[48,67,27,63],[49,12,28,8,"logo_dark_bg"],[49,24,28,20],[49,26,28,22,"response"],[49,34,28,30],[49,35,28,31,"data"],[49,39,28,35],[49,40,28,36,"data"],[49,44,28,40],[49,45,28,41,"logo_dark_bg"],[49,57,28,53],[49,61,28,57],[49,65,28,61],[50,12,29,8,"logo_footer"],[50,23,29,19],[50,25,29,21,"response"],[50,33,29,29],[50,34,29,30,"data"],[50,38,29,34],[50,39,29,35,"data"],[50,43,29,39],[50,44,29,40,"logo_footer"],[50,55,29,51],[50,59,29,55],[50,63,29,59],[51,12,30,8,"logo_colored_bg"],[51,27,30,23],[51,29,30,25,"response"],[51,37,30,33],[51,38,30,34,"data"],[51,42,30,38],[51,43,30,39,"data"],[51,47,30,43],[51,48,30,44,"logo_colored_bg"],[51,63,30,59],[51,67,30,63],[52,10,31,6],[52,11,31,7],[53,8,32,4],[54,8,34,4],[54,14,34,10],[54,18,34,14,"Error"],[54,23,34,19],[54,24,34,20],[54,46,34,42],[54,47,34,43],[55,6,35,2],[55,7,35,3],[55,8,35,4],[55,15,35,11,"error"],[55,20,35,16],[55,22,35,18],[56,8,36,4,"console"],[56,15,36,11],[56,16,36,12,"error"],[56,21,36,17],[56,22,36,18],[56,54,36,50],[56,56,36,52,"error"],[56,61,36,57],[56,62,36,58],[57,8,37,4],[57,14,37,10,"error"],[57,19,37,15],[58,6,38,2],[59,4,39,0],[59,5,39,1],[60,4,39,1],[60,20,21,13,"fetchLogosFromAPI"],[60,37,21,30,"fetchLogosFromAPI"],[60,38,21,30],[61,6,21,30],[61,13,21,30,"_ref"],[61,17,21,30],[61,18,21,30,"apply"],[61,23,21,30],[61,30,21,30,"arguments"],[61,39,21,30],[62,4,21,30],[63,2,21,30],[63,5,39,1],[64,2,41,7],[64,6,41,13,"fetchLogosWithCache"],[64,25,41,32],[65,4,41,32],[65,8,41,32,"_ref2"],[65,13,41,32],[65,20,41,32,"_asyncToGenerator"],[65,37,41,32],[65,38,41,32,"default"],[65,45,41,32],[65,47,41,35],[65,60,41,71],[66,6,42,2],[66,10,42,6],[67,8,43,4],[68,8,44,4],[68,12,44,10,"cachedData"],[68,22,44,20],[68,31,44,29,"AsyncStorage"],[68,43,44,41],[68,44,44,41,"default"],[68,51,44,41],[68,52,44,42,"getItem"],[68,59,44,49],[68,60,44,50,"CACHE_KEY"],[68,69,44,59],[68,70,44,60],[69,8,45,4],[69,12,45,10,"cacheExpiry"],[69,23,45,21],[69,32,45,30,"AsyncStorage"],[69,44,45,42],[69,45,45,42,"default"],[69,52,45,42],[69,53,45,43,"getItem"],[69,60,45,50],[69,61,45,51,"CACHE_EXPIRY_KEY"],[69,77,45,67],[69,78,45,68],[70,8,47,4],[70,12,47,8,"cachedData"],[70,22,47,18],[70,26,47,22,"cacheExpiry"],[70,37,47,33],[70,39,47,35],[71,10,48,6],[71,14,48,12,"expiry"],[71,20,48,18],[71,23,48,21,"parseInt"],[71,31,48,29],[71,32,48,30,"cacheExpiry"],[71,43,48,41],[71,45,48,43],[71,47,48,45],[71,48,48,46],[72,10,49,6],[72,14,49,12,"now"],[72,17,49,15],[72,20,49,18,"Date"],[72,24,49,22],[72,25,49,23,"now"],[72,28,49,26],[72,29,49,27],[72,30,49,28],[74,10,51,6],[75,10,52,6],[75,14,52,10,"now"],[75,17,52,13],[75,20,52,16,"expiry"],[75,26,52,22],[75,28,52,24],[76,12,53,8,"console"],[76,19,53,15],[76,20,53,16,"log"],[76,23,53,19],[76,24,53,20],[76,46,53,42],[76,47,53,43],[77,12,54,8],[77,19,54,15,"JSON"],[77,23,54,19],[77,24,54,20,"parse"],[77,29,54,25],[77,30,54,26,"cachedData"],[77,40,54,36],[77,41,54,37],[78,10,55,6],[79,8,56,4],[81,8,58,4],[82,8,59,4,"console"],[82,15,59,11],[82,16,59,12,"log"],[82,19,59,15],[82,20,59,16],[82,51,59,47],[82,52,59,48],[83,8,60,4],[83,12,60,10,"logos"],[83,17,60,15],[83,26,60,24,"fetchLogosFromAPI"],[83,43,60,41],[83,44,60,42],[83,45,60,43],[85,8,62,4],[86,8,63,4],[86,14,63,10,"AsyncStorage"],[86,26,63,22],[86,27,63,22,"default"],[86,34,63,22],[86,35,63,23,"setItem"],[86,42,63,30],[86,43,63,31,"CACHE_KEY"],[86,52,63,40],[86,54,63,42,"JSON"],[86,58,63,46],[86,59,63,47,"stringify"],[86,68,63,56],[86,69,63,57,"logos"],[86,74,63,62],[86,75,63,63],[86,76,63,64],[87,8,64,4],[87,14,64,10,"AsyncStorage"],[87,26,64,22],[87,27,64,22,"default"],[87,34,64,22],[87,35,64,23,"setItem"],[87,42,64,30],[87,43,64,31,"CACHE_EXPIRY_KEY"],[87,59,64,47],[87,61,64,49],[87,62,64,50,"Date"],[87,66,64,54],[87,67,64,55,"now"],[87,70,64,58],[87,71,64,59],[87,72,64,60],[87,75,64,63,"CACHE_DURATION"],[87,89,64,77],[87,91,64,79,"toString"],[87,99,64,87],[87,100,64,88],[87,101,64,89],[87,102,64,90],[88,8,66,4,"console"],[88,15,66,11],[88,16,66,12,"log"],[88,19,66,15],[88,20,66,16],[88,48,66,44],[88,49,66,45],[89,8,67,4],[89,15,67,11,"logos"],[89,20,67,16],[90,6,68,2],[90,7,68,3],[90,8,68,4],[90,15,68,11,"error"],[90,20,68,16],[90,22,68,18],[91,8,69,4,"console"],[91,15,69,11],[91,16,69,12,"error"],[91,21,69,17],[91,22,69,18],[91,53,69,49],[91,55,69,51,"error"],[91,60,69,56],[91,61,69,57],[93,8,71,4],[94,8,72,4],[94,12,72,10,"cachedData"],[94,23,72,20],[94,32,72,29,"AsyncStorage"],[94,44,72,41],[94,45,72,41,"default"],[94,52,72,41],[94,53,72,42,"getItem"],[94,60,72,49],[94,61,72,50,"CACHE_KEY"],[94,70,72,59],[94,71,72,60],[95,8,73,4],[95,12,73,8,"cachedData"],[95,23,73,18],[95,25,73,20],[96,10,74,6,"console"],[96,17,74,13],[96,18,74,14,"log"],[96,21,74,17],[96,22,74,18],[96,56,74,52],[96,57,74,53],[97,10,75,6],[97,17,75,13,"JSON"],[97,21,75,17],[97,22,75,18,"parse"],[97,27,75,23],[97,28,75,24,"cachedData"],[97,39,75,34],[97,40,75,35],[98,8,76,4],[100,8,78,4],[101,8,79,4],[101,15,79,11],[102,10,80,6,"logo_light_bg"],[102,23,80,19],[102,25,80,21],[102,29,80,25],[103,10,81,6,"logo_dark_bg"],[103,22,81,18],[103,24,81,20],[103,28,81,24],[104,10,82,6,"logo_footer"],[104,21,82,17],[104,23,82,19],[104,27,82,23],[105,10,83,6,"logo_colored_bg"],[105,25,83,21],[105,27,83,23],[106,8,84,4],[106,9,84,5],[107,6,85,2],[108,4,86,0],[108,5,86,1],[109,4,86,1],[109,20,41,13,"fetchLogosWithCache"],[109,39,41,32,"fetchLogosWithCache"],[109,40,41,32],[110,6,41,32],[110,13,41,32,"_ref2"],[110,18,41,32],[110,19,41,32,"apply"],[110,24,41,32],[110,31,41,32,"arguments"],[110,40,41,32],[111,4,41,32],[112,2,41,32],[112,5,86,1],[113,2,88,7],[113,6,88,13,"clearLogosCache"],[113,21,88,28],[114,4,88,28],[114,8,88,28,"_ref3"],[114,13,88,28],[114,20,88,28,"_asyncToGenerator"],[114,37,88,28],[114,38,88,28,"default"],[114,45,88,28],[114,47,88,31],[114,60,88,58],[115,6,89,2],[115,12,89,8,"AsyncStorage"],[115,24,89,20],[115,25,89,20,"default"],[115,32,89,20],[115,33,89,21,"removeItem"],[115,43,89,31],[115,44,89,32,"CACHE_KEY"],[115,53,89,41],[115,54,89,42],[116,6,90,2],[116,12,90,8,"AsyncStorage"],[116,24,90,20],[116,25,90,20,"default"],[116,32,90,20],[116,33,90,21,"removeItem"],[116,43,90,31],[116,44,90,32,"CACHE_EXPIRY_KEY"],[116,60,90,48],[116,61,90,49],[117,6,91,2,"console"],[117,13,91,9],[117,14,91,10,"log"],[117,17,91,13],[117,18,91,14],[117,43,91,39],[117,44,91,40],[118,4,92,0],[118,5,92,1],[119,4,92,1],[119,20,88,13,"clearLogosCache"],[119,35,88,28,"clearLogosCache"],[119,36,88,28],[120,6,88,28],[120,13,88,28,"_ref3"],[120,18,88,28],[120,19,88,28,"apply"],[120,24,88,28],[120,31,88,28,"arguments"],[120,40,88,28],[121,4,88,28],[122,2,88,28],[122,5,92,1],[123,0,92,2],[123,3]],"functionMap":{"names":["<global>","fetchLogosFromAPI","fetchLogosWithCache","clearLogosCache"],"mappings":"AAA;iCCoB;CDkB;mCEE;CF6C;+BGE;CHI"},"hasCjsExports":false},"type":"js/module"}]}