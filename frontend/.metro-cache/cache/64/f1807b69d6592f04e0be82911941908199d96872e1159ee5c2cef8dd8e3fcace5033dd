{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../backend-config.json","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":118},"end":{"line":4,"column":51,"index":169}}],"key":"Yg9oI/i39ksdVhZMppaxMFSSHg8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _backendConfigJson = require(_dependencyMap[3], \"../backend-config.json\");\n  var backendConfig = _interopDefault(_backendConfigJson);\n  // PERMANENT FIX: Read from backend-config.json first (survives forks), then fall back to .env\n  const API_URL = backendConfig.default.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL;\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":88,"map":[[27,2,61,0,"Object"],[27,8,61,0],[27,9,61,0,"defineProperty"],[27,23,61,0],[27,24,61,0,"exports"],[27,31,61,0],[28,4,61,0,"enumerable"],[28,14,61,0],[29,4,61,0,"get"],[29,7,61,0],[29,18,61,0,"get"],[29,19,61,0],[30,6,61,0],[30,13,61,0,"_default"],[30,21,61,0],[31,4,61,0],[32,2,61,0],[33,2,1,0],[33,6,1,0,"_axios"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"axios"],[34,11,1,0],[34,14,1,0,"_interopDefault"],[34,29,1,0],[34,30,1,0,"_axios"],[34,36,1,0],[35,2,2,0],[35,6,2,0,"_expoSecureStore"],[35,22,2,0],[35,25,2,0,"require"],[35,32,2,0],[35,33,2,0,"_dependencyMap"],[35,47,2,0],[36,2,2,0],[36,6,2,0,"SecureStore"],[36,17,2,0],[36,20,2,0,"_interopNamespace"],[36,37,2,0],[36,38,2,0,"_expoSecureStore"],[36,54,2,0],[37,2,2,49],[37,6,2,49,"_reactNativeWebDistExportsPlatform"],[37,40,2,49],[37,43,2,49,"require"],[37,50,2,49],[37,51,2,49,"_dependencyMap"],[37,65,2,49],[38,2,2,49],[38,6,2,49,"Platform"],[38,14,2,49],[38,17,2,49,"_interopDefault"],[38,32,2,49],[38,33,2,49,"_reactNativeWebDistExportsPlatform"],[38,67,2,49],[39,2,4,0],[39,6,4,0,"_backendConfigJson"],[39,24,4,0],[39,27,4,0,"require"],[39,34,4,0],[39,35,4,0,"_dependencyMap"],[39,49,4,0],[40,2,4,0],[40,6,4,0,"backendConfig"],[40,19,4,0],[40,22,4,0,"_interopDefault"],[40,37,4,0],[40,38,4,0,"_backendConfigJson"],[40,56,4,0],[41,2,6,0],[42,2,7,0],[42,8,7,6,"API_URL"],[42,15,7,13],[42,18,7,16,"backendConfig"],[42,31,7,29],[42,32,7,29,"default"],[42,39,7,29],[42,40,7,30,"backendUrl"],[42,50,7,40],[42,54,7,44,"process"],[42,61,7,51],[42,62,7,52,"env"],[42,65,7,55],[42,66,7,56,"EXPO_PUBLIC_BACKEND_URL"],[42,89,7,79],[44,2,9,0],[45,2,10,0],[45,8,10,6,"getStorageItem"],[45,22,10,20],[45,25,10,23],[45,31,10,30,"key"],[45,34,10,41],[45,38,10,46],[46,4,11,2],[46,8,11,6,"Platform"],[46,16,11,14],[46,17,11,14,"default"],[46,24,11,14],[46,25,11,15,"OS"],[46,27,11,17],[46,32,11,22],[46,37,11,27],[46,39,11,29],[47,6,12,4],[47,13,12,11,"localStorage"],[47,25,12,23],[47,26,12,24,"getItem"],[47,33,12,31],[47,34,12,32,"key"],[47,37,12,35],[47,38,12,36],[48,4,13,2],[48,5,13,3],[48,11,13,9],[49,6,14,4],[49,13,14,11],[49,19,14,17,"SecureStore"],[49,30,14,28],[49,31,14,29,"getItemAsync"],[49,43,14,41],[49,44,14,42,"key"],[49,47,14,45],[49,48,14,46],[50,4,15,2],[51,2,16,0],[51,3,16,1],[52,2,18,0],[52,8,18,6,"deleteStorageItem"],[52,25,18,23],[52,28,18,26],[52,34,18,33,"key"],[52,37,18,44],[52,41,18,49],[53,4,19,2],[53,8,19,6,"Platform"],[53,16,19,14],[53,17,19,14,"default"],[53,24,19,14],[53,25,19,15,"OS"],[53,27,19,17],[53,32,19,22],[53,37,19,27],[53,39,19,29],[54,6,20,4,"localStorage"],[54,18,20,16],[54,19,20,17,"removeItem"],[54,29,20,27],[54,30,20,28,"key"],[54,33,20,31],[54,34,20,32],[55,4,21,2],[55,5,21,3],[55,11,21,9],[56,6,22,4],[56,12,22,10,"SecureStore"],[56,23,22,21],[56,24,22,22,"deleteItemAsync"],[56,39,22,37],[56,40,22,38,"key"],[56,43,22,41],[56,44,22,42],[57,4,23,2],[58,2,24,0],[58,3,24,1],[59,2,26,0],[59,8,26,6,"api"],[59,11,26,9],[59,14,26,12,"axios"],[59,19,26,17],[59,20,26,17,"default"],[59,27,26,17],[59,28,26,18,"create"],[59,34,26,24],[59,35,26,25],[60,4,27,2,"baseURL"],[60,11,27,9],[60,13,27,11],[60,16,27,14,"API_URL"],[60,23,27,21],[60,29,27,27],[61,4,28,2,"timeout"],[61,11,28,9],[61,13,28,11],[61,18,28,16],[62,4,29,2,"headers"],[62,11,29,9],[62,13,29,11],[63,6,30,4],[63,20,30,18],[63,22,30,20],[64,4,31,2],[65,2,32,0],[65,3,32,1],[65,4,32,2],[67,2,34,0],[68,2,35,0,"api"],[68,5,35,3],[68,6,35,4,"interceptors"],[68,18,35,16],[68,19,35,17,"request"],[68,26,35,24],[68,27,35,25,"use"],[68,30,35,28],[68,31,36,2],[68,37,36,9,"config"],[68,43,36,15],[68,47,36,20],[69,4,37,4],[69,10,37,10,"token"],[69,15,37,15],[69,18,37,18],[69,24,37,24,"getStorageItem"],[69,38,37,38],[69,39,37,39],[69,51,37,51],[69,52,37,52],[70,4,38,4],[70,8,38,8,"token"],[70,13,38,13],[70,15,38,15],[71,6,39,6,"config"],[71,12,39,12],[71,13,39,13,"headers"],[71,20,39,20],[71,21,39,21,"Authorization"],[71,34,39,34],[71,37,39,37],[71,47,39,47,"token"],[71,52,39,52],[71,54,39,54],[72,4,40,4],[73,4,41,4],[73,11,41,11,"config"],[73,17,41,17],[74,2,42,2],[74,3,42,3],[74,5,43,3,"error"],[74,10,43,8],[74,14,43,13],[75,4,44,4],[75,11,44,11,"Promise"],[75,18,44,18],[75,19,44,19,"reject"],[75,25,44,25],[75,26,44,26,"error"],[75,31,44,31],[75,32,44,32],[76,2,45,2],[76,3,46,0],[76,4,46,1],[78,2,48,0],[79,2,49,0,"api"],[79,5,49,3],[79,6,49,4,"interceptors"],[79,18,49,16],[79,19,49,17,"response"],[79,27,49,25],[79,28,49,26,"use"],[79,31,49,29],[79,32,50,3,"response"],[79,40,50,11],[79,44,50,16,"response"],[79,52,50,24],[79,54,51,3,"error"],[79,59,51,8],[79,63,51,13],[80,4,52,4],[80,8,52,8,"error"],[80,13,52,13],[80,14,52,14,"response"],[80,22,52,22],[80,24,52,24,"status"],[80,30,52,30],[80,35,52,35],[80,38,52,38],[80,40,52,40],[81,6,53,6],[82,6,54,6,"deleteStorageItem"],[82,23,54,23],[82,24,54,24],[82,36,54,36],[82,37,54,37],[83,6,55,6,"deleteStorageItem"],[83,23,55,23],[83,24,55,24],[83,35,55,35],[83,36,55,36],[84,4,56,4],[85,4,57,4],[85,11,57,11,"Promise"],[85,18,57,18],[85,19,57,19,"reject"],[85,25,57,25],[85,26,57,26,"error"],[85,31,57,31],[85,32,57,32],[86,2,58,2],[86,3,59,0],[86,4,59,1],[87,2,61,0],[87,6,61,0,"_default"],[87,14,61,0],[87,17,61,15,"api"],[87,20,61,18],[88,0,61,19],[88,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCS;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}