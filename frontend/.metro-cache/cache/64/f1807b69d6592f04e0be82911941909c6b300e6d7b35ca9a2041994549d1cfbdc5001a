{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":77},"end":{"line":3,"column":69,"index":146}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"loadDevConfig\", {\n    enumerable: true,\n    get: function () {\n      return loadDevConfig;\n    }\n  });\n  Object.defineProperty(exports, \"API_URL\", {\n    enumerable: true,\n    get: function () {\n      return API_URL;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // DEV ONLY\n\n  // CRITICAL: This is the SHARED backend API used by both web and mobile apps\n  // This URL points to the web workspace's backend (Job: 961c0d08...)\n  // DO NOT CHANGE THIS URL unless instructed by the web developer\n  let API_URL = 'https://app-bridge-api.preview.emergentagent.com';\n\n  // DEV ONLY: Load dev configuration\n  const loadDevConfig = async () => {\n    try {\n      const devUrl = await AsyncStorage.default.getItem('DEV_API_URL');\n      if (devUrl) {\n        API_URL = devUrl;\n        console.log('ðŸ”§ DEV: Using configured API URL:', API_URL);\n      } else {\n        console.log('ðŸ”§ DEV: Using default API URL:', API_URL);\n      }\n    } catch (error) {\n      console.log('Using default API URL');\n    }\n  };\n\n  // Call this on app startup\n  loadDevConfig();\n\n  // Log to verify correct URL is being used\n  console.log('ðŸ”— [POST-FORK-FIX-v2] Mobile App Backend URL:', API_URL);\n  console.log('âœ… Connected to shared backend (web workspace)');\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    // DEV ONLY: Try dev token first\n    try {\n      const devToken = await AsyncStorage.default.getItem('DEV_TOKEN');\n      if (devToken) {\n        config.headers.Authorization = `Bearer ${devToken}`;\n        console.log('ðŸ”§ DEV: Using configured auth token');\n        return config;\n      }\n    } catch (error) {\n      console.log('No dev token');\n    }\n\n    // Fall back to normal auth token\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":139,"map":[[27,2,99,0,"Object"],[27,8,99,0],[27,9,99,0,"defineProperty"],[27,23,99,0],[27,24,99,0,"exports"],[27,31,99,0],[28,4,99,0,"enumerable"],[28,14,99,0],[29,4,99,0,"get"],[29,7,99,0],[29,18,99,0,"get"],[29,19,99,0],[30,6,99,0],[30,13,99,0,"_default"],[30,21,99,0],[31,4,99,0],[32,2,99,0],[33,2,12,0,"Object"],[33,8,12,0],[33,9,12,0,"defineProperty"],[33,23,12,0],[33,24,12,0,"exports"],[33,31,12,0],[34,4,12,0,"enumerable"],[34,14,12,0],[35,4,12,0,"get"],[35,7,12,0],[35,18,12,0,"get"],[35,19,12,0],[36,6,12,0],[36,13,12,0,"loadDevConfig"],[36,26,12,0],[37,4,12,0],[38,2,12,0],[39,2,98,0,"Object"],[39,8,98,0],[39,9,98,0,"defineProperty"],[39,23,98,0],[39,24,98,0,"exports"],[39,31,98,0],[40,4,98,0,"enumerable"],[40,14,98,0],[41,4,98,0,"get"],[41,7,98,0],[41,18,98,0,"get"],[41,19,98,0],[42,6,98,0],[42,13,98,9,"API_URL"],[42,20,98,16],[43,4,98,16],[44,2,98,16],[45,2,1,0],[45,6,1,0,"_axios"],[45,12,1,0],[45,15,1,0,"require"],[45,22,1,0],[45,23,1,0,"_dependencyMap"],[45,37,1,0],[46,2,1,0],[46,6,1,0,"axios"],[46,11,1,0],[46,14,1,0,"_interopDefault"],[46,29,1,0],[46,30,1,0,"_axios"],[46,36,1,0],[47,2,2,0],[47,6,2,0,"_expoSecureStore"],[47,22,2,0],[47,25,2,0,"require"],[47,32,2,0],[47,33,2,0,"_dependencyMap"],[47,47,2,0],[48,2,2,0],[48,6,2,0,"SecureStore"],[48,17,2,0],[48,20,2,0,"_interopNamespace"],[48,37,2,0],[48,38,2,0,"_expoSecureStore"],[48,54,2,0],[49,2,3,0],[49,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[49,42,3,0],[49,45,3,0,"require"],[49,52,3,0],[49,53,3,0,"_dependencyMap"],[49,67,3,0],[50,2,3,0],[50,6,3,0,"AsyncStorage"],[50,18,3,0],[50,21,3,0,"_interopDefault"],[50,36,3,0],[50,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[50,73,3,0],[51,2,3,69],[51,6,3,69,"_reactNativeWebDistExportsPlatform"],[51,40,3,69],[51,43,3,69,"require"],[51,50,3,69],[51,51,3,69,"_dependencyMap"],[51,65,3,69],[52,2,3,69],[52,6,3,69,"Platform"],[52,14,3,69],[52,17,3,69,"_interopDefault"],[52,32,3,69],[52,33,3,69,"_reactNativeWebDistExportsPlatform"],[52,67,3,69],[53,2,3,70],[55,2,6,0],[56,2,7,0],[57,2,8,0],[58,2,9,0],[58,6,9,4,"API_URL"],[58,13,9,11],[58,16,9,14],[58,66,9,64],[60,2,11,0],[61,2,12,7],[61,8,12,13,"loadDevConfig"],[61,21,12,26],[61,24,12,29],[61,30,12,29,"loadDevConfig"],[61,31,12,29],[61,36,12,41],[62,4,13,2],[62,8,13,6],[63,6,14,4],[63,12,14,10,"devUrl"],[63,18,14,16],[63,21,14,19],[63,27,14,25,"AsyncStorage"],[63,39,14,37],[63,40,14,37,"default"],[63,47,14,37],[63,48,14,38,"getItem"],[63,55,14,45],[63,56,14,46],[63,69,14,59],[63,70,14,60],[64,6,15,4],[64,10,15,8,"devUrl"],[64,16,15,14],[64,18,15,16],[65,8,16,6,"API_URL"],[65,15,16,13],[65,18,16,16,"devUrl"],[65,24,16,22],[66,8,17,6,"console"],[66,15,17,13],[66,16,17,14,"log"],[66,19,17,17],[66,20,17,18],[66,55,17,53],[66,57,17,55,"API_URL"],[66,64,17,62],[66,65,17,63],[67,6,18,4],[67,7,18,5],[67,13,18,11],[68,8,19,6,"console"],[68,15,19,13],[68,16,19,14,"log"],[68,19,19,17],[68,20,19,18],[68,52,19,50],[68,54,19,52,"API_URL"],[68,61,19,59],[68,62,19,60],[69,6,20,4],[70,4,21,2],[70,5,21,3],[70,6,21,4],[70,13,21,11,"error"],[70,18,21,16],[70,20,21,18],[71,6,22,4,"console"],[71,13,22,11],[71,14,22,12,"log"],[71,17,22,15],[71,18,22,16],[71,41,22,39],[71,42,22,40],[72,4,23,2],[73,2,24,0],[73,3,24,1],[75,2,26,0],[76,2,27,0,"loadDevConfig"],[76,15,27,13],[76,16,27,14],[76,17,27,15],[78,2,29,0],[79,2,30,0,"console"],[79,9,30,7],[79,10,30,8,"log"],[79,13,30,11],[79,14,30,12],[79,61,30,59],[79,63,30,61,"API_URL"],[79,70,30,68],[79,71,30,69],[80,2,31,0,"console"],[80,9,31,7],[80,10,31,8,"log"],[80,13,31,11],[80,14,31,12],[80,61,31,59],[80,62,31,60],[82,2,33,0],[83,2,34,0],[83,8,34,6,"getStorageItem"],[83,22,34,20],[83,25,34,23],[83,31,34,30,"key"],[83,34,34,41],[83,38,34,46],[84,4,35,2],[84,8,35,6,"Platform"],[84,16,35,14],[84,17,35,14,"default"],[84,24,35,14],[84,25,35,15,"OS"],[84,27,35,17],[84,32,35,22],[84,37,35,27],[84,39,35,29],[85,6,36,4],[85,13,36,11,"localStorage"],[85,25,36,23],[85,26,36,24,"getItem"],[85,33,36,31],[85,34,36,32,"key"],[85,37,36,35],[85,38,36,36],[86,4,37,2],[86,5,37,3],[86,11,37,9],[87,6,38,4],[87,13,38,11],[87,19,38,17,"SecureStore"],[87,30,38,28],[87,31,38,29,"getItemAsync"],[87,43,38,41],[87,44,38,42,"key"],[87,47,38,45],[87,48,38,46],[88,4,39,2],[89,2,40,0],[89,3,40,1],[90,2,42,0],[90,8,42,6,"deleteStorageItem"],[90,25,42,23],[90,28,42,26],[90,34,42,33,"key"],[90,37,42,44],[90,41,42,49],[91,4,43,2],[91,8,43,6,"Platform"],[91,16,43,14],[91,17,43,14,"default"],[91,24,43,14],[91,25,43,15,"OS"],[91,27,43,17],[91,32,43,22],[91,37,43,27],[91,39,43,29],[92,6,44,4,"localStorage"],[92,18,44,16],[92,19,44,17,"removeItem"],[92,29,44,27],[92,30,44,28,"key"],[92,33,44,31],[92,34,44,32],[93,4,45,2],[93,5,45,3],[93,11,45,9],[94,6,46,4],[94,12,46,10,"SecureStore"],[94,23,46,21],[94,24,46,22,"deleteItemAsync"],[94,39,46,37],[94,40,46,38,"key"],[94,43,46,41],[94,44,46,42],[95,4,47,2],[96,2,48,0],[96,3,48,1],[97,2,50,0],[97,8,50,6,"api"],[97,11,50,9],[97,14,50,12,"axios"],[97,19,50,17],[97,20,50,17,"default"],[97,27,50,17],[97,28,50,18,"create"],[97,34,50,24],[97,35,50,25],[98,4,51,2,"baseURL"],[98,11,51,9],[98,13,51,11],[98,16,51,14,"API_URL"],[98,23,51,21],[98,29,51,27],[99,4,52,2,"timeout"],[99,11,52,9],[99,13,52,11],[99,18,52,16],[100,4,53,2,"headers"],[100,11,53,9],[100,13,53,11],[101,6,54,4],[101,20,54,18],[101,22,54,20],[102,4,55,2],[103,2,56,0],[103,3,56,1],[103,4,56,2],[105,2,58,0],[106,2,59,0,"api"],[106,5,59,3],[106,6,59,4,"interceptors"],[106,18,59,16],[106,19,59,17,"request"],[106,26,59,24],[106,27,59,25,"use"],[106,30,59,28],[106,31,60,2],[106,37,60,9,"config"],[106,43,60,15],[106,47,60,20],[107,4,61,4],[108,4,62,4],[108,8,62,8],[109,6,63,6],[109,12,63,12,"devToken"],[109,20,63,20],[109,23,63,23],[109,29,63,29,"AsyncStorage"],[109,41,63,41],[109,42,63,41,"default"],[109,49,63,41],[109,50,63,42,"getItem"],[109,57,63,49],[109,58,63,50],[109,69,63,61],[109,70,63,62],[110,6,64,6],[110,10,64,10,"devToken"],[110,18,64,18],[110,20,64,20],[111,8,65,8,"config"],[111,14,65,14],[111,15,65,15,"headers"],[111,22,65,22],[111,23,65,23,"Authorization"],[111,36,65,36],[111,39,65,39],[111,49,65,49,"devToken"],[111,57,65,57],[111,59,65,59],[112,8,66,8,"console"],[112,15,66,15],[112,16,66,16,"log"],[112,19,66,19],[112,20,66,20],[112,57,66,57],[112,58,66,58],[113,8,67,8],[113,15,67,15,"config"],[113,21,67,21],[114,6,68,6],[115,4,69,4],[115,5,69,5],[115,6,69,6],[115,13,69,13,"error"],[115,18,69,18],[115,20,69,20],[116,6,70,6,"console"],[116,13,70,13],[116,14,70,14,"log"],[116,17,70,17],[116,18,70,18],[116,32,70,32],[116,33,70,33],[117,4,71,4],[119,4,73,4],[120,4,74,4],[120,10,74,10,"token"],[120,15,74,15],[120,18,74,18],[120,24,74,24,"getStorageItem"],[120,38,74,38],[120,39,74,39],[120,51,74,51],[120,52,74,52],[121,4,75,4],[121,8,75,8,"token"],[121,13,75,13],[121,15,75,15],[122,6,76,6,"config"],[122,12,76,12],[122,13,76,13,"headers"],[122,20,76,20],[122,21,76,21,"Authorization"],[122,34,76,34],[122,37,76,37],[122,47,76,47,"token"],[122,52,76,52],[122,54,76,54],[123,4,77,4],[124,4,78,4],[124,11,78,11,"config"],[124,17,78,17],[125,2,79,2],[125,3,79,3],[125,5,80,3,"error"],[125,10,80,8],[125,14,80,13],[126,4,81,4],[126,11,81,11,"Promise"],[126,18,81,18],[126,19,81,19,"reject"],[126,25,81,25],[126,26,81,26,"error"],[126,31,81,31],[126,32,81,32],[127,2,82,2],[127,3,83,0],[127,4,83,1],[129,2,85,0],[130,2,86,0,"api"],[130,5,86,3],[130,6,86,4,"interceptors"],[130,18,86,16],[130,19,86,17,"response"],[130,27,86,25],[130,28,86,26,"use"],[130,31,86,29],[130,32,87,3,"response"],[130,40,87,11],[130,44,87,16,"response"],[130,52,87,24],[130,54,88,3,"error"],[130,59,88,8],[130,63,88,13],[131,4,89,4],[131,8,89,8,"error"],[131,13,89,13],[131,14,89,14,"response"],[131,22,89,22],[131,24,89,24,"status"],[131,30,89,30],[131,35,89,35],[131,38,89,38],[131,40,89,40],[132,6,90,6],[133,6,91,6,"deleteStorageItem"],[133,23,91,23],[133,24,91,24],[133,36,91,36],[133,37,91,37],[134,6,92,6,"deleteStorageItem"],[134,23,92,23],[134,24,92,24],[134,35,92,35],[134,36,92,36],[135,4,93,4],[136,4,94,4],[136,11,94,11,"Promise"],[136,18,94,18],[136,19,94,19,"reject"],[136,25,94,25],[136,26,94,26,"error"],[136,31,94,31],[136,32,94,32],[137,2,95,2],[137,3,96,0],[137,4,96,1],[138,2,99,0],[138,6,99,0,"_default"],[138,14,99,0],[138,17,99,15,"api"],[138,20,99,18],[139,0,99,19],[139,3]],"functionMap":{"names":["<global>","loadDevConfig","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;6BCW;CDY;uBEU;CFM;0BGE;CHM;EIY;GJmB;EKC;GLE;EMK,sBN;EOC;GPO"},"hasCjsExports":false},"type":"js/module"}]}