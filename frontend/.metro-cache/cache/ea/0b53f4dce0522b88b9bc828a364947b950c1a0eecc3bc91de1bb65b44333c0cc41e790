{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":77},"end":{"line":3,"column":40,"index":117}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  var API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://auto-specs-hub-1.preview.emergentagent.com';\n\n  // Storage helpers that work on both web and native\n  var getStorageItem = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        return localStorage.getItem(key);\n      } else {\n        return yield SecureStore.getItemAsync(key);\n      }\n    });\n    return function getStorageItem(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var deleteStorageItem = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        yield SecureStore.deleteItemAsync(key);\n      }\n    });\n    return function deleteStorageItem(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (config) {\n      var token = yield getStorageItem('auth_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":102,"map":[[27,2,59,0,"Object"],[27,8,59,0],[27,9,59,0,"defineProperty"],[27,23,59,0],[27,24,59,0,"exports"],[27,31,59,0],[28,4,59,0,"enumerable"],[28,14,59,0],[29,4,59,0,"get"],[29,7,59,0],[29,18,59,0,"get"],[29,19,59,0],[30,6,59,0],[30,13,59,0,"_default"],[30,21,59,0],[31,4,59,0],[32,2,59,0],[33,2,59,19],[33,6,59,19,"_babelRuntimeHelpersAsyncToGenerator"],[33,42,59,19],[33,45,59,19,"require"],[33,52,59,19],[33,53,59,19,"_dependencyMap"],[33,67,59,19],[34,2,59,19],[34,6,59,19,"_asyncToGenerator"],[34,23,59,19],[34,26,59,19,"_interopDefault"],[34,41,59,19],[34,42,59,19,"_babelRuntimeHelpersAsyncToGenerator"],[34,78,59,19],[35,2,59,19],[35,6,59,19,"_expoVirtualEnv"],[35,21,59,19],[35,24,59,19,"require"],[35,31,59,19],[35,32,59,19,"_dependencyMap"],[35,46,59,19],[36,2,1,0],[36,6,1,0,"_axios"],[36,12,1,0],[36,15,1,0,"require"],[36,22,1,0],[36,23,1,0,"_dependencyMap"],[36,37,1,0],[37,2,1,0],[37,6,1,0,"axios"],[37,11,1,0],[37,14,1,0,"_interopDefault"],[37,29,1,0],[37,30,1,0,"_axios"],[37,36,1,0],[38,2,2,0],[38,6,2,0,"_expoSecureStore"],[38,22,2,0],[38,25,2,0,"require"],[38,32,2,0],[38,33,2,0,"_dependencyMap"],[38,47,2,0],[39,2,2,0],[39,6,2,0,"SecureStore"],[39,17,2,0],[39,20,2,0,"_interopNamespace"],[39,37,2,0],[39,38,2,0,"_expoSecureStore"],[39,54,2,0],[40,2,3,0],[40,6,3,0,"_reactNative"],[40,18,3,0],[40,21,3,0,"require"],[40,28,3,0],[40,29,3,0,"_dependencyMap"],[40,43,3,0],[41,2,5,0],[41,6,5,6,"API_URL"],[41,13,5,13],[41,16,5,16,"_expoVirtualEnv"],[41,31,5,16],[41,32,5,16,"env"],[41,35,5,16],[41,36,5,16,"EXPO_PUBLIC_BACKEND_URL"],[41,59,5,16],[41,63,5,55],[41,115,5,107],[43,2,7,0],[44,2,8,0],[44,6,8,6,"getStorageItem"],[44,20,8,20],[45,4,8,20],[45,8,8,20,"_ref"],[45,12,8,20],[45,19,8,20,"_asyncToGenerator"],[45,36,8,20],[45,37,8,20,"default"],[45,44,8,20],[45,46,8,23],[45,57,8,30,"key"],[45,60,8,41],[45,62,8,46],[46,6,9,2],[46,10,9,6,"Platform"],[46,22,9,14],[46,23,9,14,"Platform"],[46,31,9,14],[46,32,9,15,"OS"],[46,34,9,17],[46,39,9,22],[46,44,9,27],[46,46,9,29],[47,8,10,4],[47,15,10,11,"localStorage"],[47,27,10,23],[47,28,10,24,"getItem"],[47,35,10,31],[47,36,10,32,"key"],[47,39,10,35],[47,40,10,36],[48,6,11,2],[48,7,11,3],[48,13,11,9],[49,8,12,4],[49,21,12,17,"SecureStore"],[49,32,12,28],[49,33,12,29,"getItemAsync"],[49,45,12,41],[49,46,12,42,"key"],[49,49,12,45],[49,50,12,46],[50,6,13,2],[51,4,14,0],[51,5,14,1],[52,4,14,1],[52,20,8,6,"getStorageItem"],[52,34,8,20,"getStorageItem"],[52,35,8,20,"_x"],[52,37,8,20],[53,6,8,20],[53,13,8,20,"_ref"],[53,17,8,20],[53,18,8,20,"apply"],[53,23,8,20],[53,30,8,20,"arguments"],[53,39,8,20],[54,4,8,20],[55,2,8,20],[55,5,14,1],[56,2,16,0],[56,6,16,6,"deleteStorageItem"],[56,23,16,23],[57,4,16,23],[57,8,16,23,"_ref2"],[57,13,16,23],[57,20,16,23,"_asyncToGenerator"],[57,37,16,23],[57,38,16,23,"default"],[57,45,16,23],[57,47,16,26],[57,58,16,33,"key"],[57,61,16,44],[57,63,16,49],[58,6,17,2],[58,10,17,6,"Platform"],[58,22,17,14],[58,23,17,14,"Platform"],[58,31,17,14],[58,32,17,15,"OS"],[58,34,17,17],[58,39,17,22],[58,44,17,27],[58,46,17,29],[59,8,18,4,"localStorage"],[59,20,18,16],[59,21,18,17,"removeItem"],[59,31,18,27],[59,32,18,28,"key"],[59,35,18,31],[59,36,18,32],[60,6,19,2],[60,7,19,3],[60,13,19,9],[61,8,20,4],[61,14,20,10,"SecureStore"],[61,25,20,21],[61,26,20,22,"deleteItemAsync"],[61,41,20,37],[61,42,20,38,"key"],[61,45,20,41],[61,46,20,42],[62,6,21,2],[63,4,22,0],[63,5,22,1],[64,4,22,1],[64,20,16,6,"deleteStorageItem"],[64,37,16,23,"deleteStorageItem"],[64,38,16,23,"_x2"],[64,41,16,23],[65,6,16,23],[65,13,16,23,"_ref2"],[65,18,16,23],[65,19,16,23,"apply"],[65,24,16,23],[65,31,16,23,"arguments"],[65,40,16,23],[66,4,16,23],[67,2,16,23],[67,5,22,1],[68,2,24,0],[68,6,24,6,"api"],[68,9,24,9],[68,12,24,12,"axios"],[68,17,24,17],[68,18,24,17,"default"],[68,25,24,17],[68,26,24,18,"create"],[68,32,24,24],[68,33,24,25],[69,4,25,2,"baseURL"],[69,11,25,9],[69,13,25,11],[69,16,25,14,"API_URL"],[69,23,25,21],[69,29,25,27],[70,4,26,2,"timeout"],[70,11,26,9],[70,13,26,11],[70,18,26,16],[71,4,27,2,"headers"],[71,11,27,9],[71,13,27,11],[72,6,28,4],[72,20,28,18],[72,22,28,20],[73,4,29,2],[74,2,30,0],[74,3,30,1],[74,4,30,2],[76,2,32,0],[77,2,33,0,"api"],[77,5,33,3],[77,6,33,4,"interceptors"],[77,18,33,16],[77,19,33,17,"request"],[77,26,33,24],[77,27,33,25,"use"],[77,30,33,28],[78,4,33,28],[78,8,33,28,"_ref3"],[78,13,33,28],[78,20,33,28,"_asyncToGenerator"],[78,37,33,28],[78,38,33,28,"default"],[78,45,33,28],[78,47,34,2],[78,58,34,9,"config"],[78,64,34,15],[78,66,34,20],[79,6,35,4],[79,10,35,10,"token"],[79,15,35,15],[79,24,35,24,"getStorageItem"],[79,38,35,38],[79,39,35,39],[79,51,35,51],[79,52,35,52],[80,6,36,4],[80,10,36,8,"token"],[80,15,36,13],[80,17,36,15],[81,8,37,6,"config"],[81,14,37,12],[81,15,37,13,"headers"],[81,22,37,20],[81,23,37,21,"Authorization"],[81,36,37,34],[81,39,37,37],[81,49,37,47,"token"],[81,54,37,52],[81,56,37,54],[82,6,38,4],[83,6,39,4],[83,13,39,11,"config"],[83,19,39,17],[84,4,40,2],[84,5,40,3],[85,4,40,3],[85,21,40,3,"_x3"],[85,24,40,3],[86,6,40,3],[86,13,40,3,"_ref3"],[86,18,40,3],[86,19,40,3,"apply"],[86,24,40,3],[86,31,40,3,"arguments"],[86,40,40,3],[87,4,40,3],[88,2,40,3],[88,7,41,3,"error"],[88,12,41,8],[88,16,41,13],[89,4,42,4],[89,11,42,11,"Promise"],[89,18,42,18],[89,19,42,19,"reject"],[89,25,42,25],[89,26,42,26,"error"],[89,31,42,31],[89,32,42,32],[90,2,43,2],[90,3,44,0],[90,4,44,1],[92,2,46,0],[93,2,47,0,"api"],[93,5,47,3],[93,6,47,4,"interceptors"],[93,18,47,16],[93,19,47,17,"response"],[93,27,47,25],[93,28,47,26,"use"],[93,31,47,29],[93,32,48,3,"response"],[93,40,48,11],[93,44,48,16,"response"],[93,52,48,24],[93,54,49,3,"error"],[93,59,49,8],[93,63,49,13],[94,4,50,4],[94,8,50,8,"error"],[94,13,50,13],[94,14,50,14,"response"],[94,22,50,22],[94,24,50,24,"status"],[94,30,50,30],[94,35,50,35],[94,38,50,38],[94,40,50,40],[95,6,51,6],[96,6,52,6,"deleteStorageItem"],[96,23,52,23],[96,24,52,24],[96,36,52,36],[96,37,52,37],[97,6,53,6,"deleteStorageItem"],[97,23,53,23],[97,24,53,24],[97,35,53,35],[97,36,53,36],[98,4,54,4],[99,4,55,4],[99,11,55,11,"Promise"],[99,18,55,18],[99,19,55,19,"reject"],[99,25,55,25],[99,26,55,26,"error"],[99,31,55,31],[99,32,55,32],[100,2,56,2],[100,3,57,0],[100,4,57,1],[101,2,59,0],[101,6,59,0,"_default"],[101,14,59,0],[101,17,59,15,"api"],[101,20,59,18],[102,0,59,19],[102,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCO;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}