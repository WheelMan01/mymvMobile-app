{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":77},"end":{"line":3,"column":40,"index":117}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var API_URL = 'https://vehicle-data-relay.preview.emergentagent.com';\n\n  // Storage helpers that work on both web and native\n  var getStorageItem = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        return localStorage.getItem(key);\n      } else {\n        return yield SecureStore.getItemAsync(key);\n      }\n    });\n    return function getStorageItem(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var deleteStorageItem = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        yield SecureStore.deleteItemAsync(key);\n      }\n    });\n    return function deleteStorageItem(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (config) {\n      var token = yield getStorageItem('auth_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":101,"map":[[27,2,59,0,"Object"],[27,8,59,0],[27,9,59,0,"defineProperty"],[27,23,59,0],[27,24,59,0,"exports"],[27,31,59,0],[28,4,59,0,"enumerable"],[28,14,59,0],[29,4,59,0,"get"],[29,7,59,0],[29,18,59,0,"get"],[29,19,59,0],[30,6,59,0],[30,13,59,0,"_default"],[30,21,59,0],[31,4,59,0],[32,2,59,0],[33,2,59,19],[33,6,59,19,"_babelRuntimeHelpersAsyncToGenerator"],[33,42,59,19],[33,45,59,19,"require"],[33,52,59,19],[33,53,59,19,"_dependencyMap"],[33,67,59,19],[34,2,59,19],[34,6,59,19,"_asyncToGenerator"],[34,23,59,19],[34,26,59,19,"_interopDefault"],[34,41,59,19],[34,42,59,19,"_babelRuntimeHelpersAsyncToGenerator"],[34,78,59,19],[35,2,1,0],[35,6,1,0,"_axios"],[35,12,1,0],[35,15,1,0,"require"],[35,22,1,0],[35,23,1,0,"_dependencyMap"],[35,37,1,0],[36,2,1,0],[36,6,1,0,"axios"],[36,11,1,0],[36,14,1,0,"_interopDefault"],[36,29,1,0],[36,30,1,0,"_axios"],[36,36,1,0],[37,2,2,0],[37,6,2,0,"_expoSecureStore"],[37,22,2,0],[37,25,2,0,"require"],[37,32,2,0],[37,33,2,0,"_dependencyMap"],[37,47,2,0],[38,2,2,0],[38,6,2,0,"SecureStore"],[38,17,2,0],[38,20,2,0,"_interopNamespace"],[38,37,2,0],[38,38,2,0,"_expoSecureStore"],[38,54,2,0],[39,2,3,0],[39,6,3,0,"_reactNative"],[39,18,3,0],[39,21,3,0,"require"],[39,28,3,0],[39,29,3,0,"_dependencyMap"],[39,43,3,0],[40,2,5,0],[40,6,5,6,"API_URL"],[40,13,5,13],[40,16,5,16],[40,70,5,70],[42,2,7,0],[43,2,8,0],[43,6,8,6,"getStorageItem"],[43,20,8,20],[44,4,8,20],[44,8,8,20,"_ref"],[44,12,8,20],[44,19,8,20,"_asyncToGenerator"],[44,36,8,20],[44,37,8,20,"default"],[44,44,8,20],[44,46,8,23],[44,57,8,30,"key"],[44,60,8,41],[44,62,8,46],[45,6,9,2],[45,10,9,6,"Platform"],[45,22,9,14],[45,23,9,14,"Platform"],[45,31,9,14],[45,32,9,15,"OS"],[45,34,9,17],[45,39,9,22],[45,44,9,27],[45,46,9,29],[46,8,10,4],[46,15,10,11,"localStorage"],[46,27,10,23],[46,28,10,24,"getItem"],[46,35,10,31],[46,36,10,32,"key"],[46,39,10,35],[46,40,10,36],[47,6,11,2],[47,7,11,3],[47,13,11,9],[48,8,12,4],[48,21,12,17,"SecureStore"],[48,32,12,28],[48,33,12,29,"getItemAsync"],[48,45,12,41],[48,46,12,42,"key"],[48,49,12,45],[48,50,12,46],[49,6,13,2],[50,4,14,0],[50,5,14,1],[51,4,14,1],[51,20,8,6,"getStorageItem"],[51,34,8,20,"getStorageItem"],[51,35,8,20,"_x"],[51,37,8,20],[52,6,8,20],[52,13,8,20,"_ref"],[52,17,8,20],[52,18,8,20,"apply"],[52,23,8,20],[52,30,8,20,"arguments"],[52,39,8,20],[53,4,8,20],[54,2,8,20],[54,5,14,1],[55,2,16,0],[55,6,16,6,"deleteStorageItem"],[55,23,16,23],[56,4,16,23],[56,8,16,23,"_ref2"],[56,13,16,23],[56,20,16,23,"_asyncToGenerator"],[56,37,16,23],[56,38,16,23,"default"],[56,45,16,23],[56,47,16,26],[56,58,16,33,"key"],[56,61,16,44],[56,63,16,49],[57,6,17,2],[57,10,17,6,"Platform"],[57,22,17,14],[57,23,17,14,"Platform"],[57,31,17,14],[57,32,17,15,"OS"],[57,34,17,17],[57,39,17,22],[57,44,17,27],[57,46,17,29],[58,8,18,4,"localStorage"],[58,20,18,16],[58,21,18,17,"removeItem"],[58,31,18,27],[58,32,18,28,"key"],[58,35,18,31],[58,36,18,32],[59,6,19,2],[59,7,19,3],[59,13,19,9],[60,8,20,4],[60,14,20,10,"SecureStore"],[60,25,20,21],[60,26,20,22,"deleteItemAsync"],[60,41,20,37],[60,42,20,38,"key"],[60,45,20,41],[60,46,20,42],[61,6,21,2],[62,4,22,0],[62,5,22,1],[63,4,22,1],[63,20,16,6,"deleteStorageItem"],[63,37,16,23,"deleteStorageItem"],[63,38,16,23,"_x2"],[63,41,16,23],[64,6,16,23],[64,13,16,23,"_ref2"],[64,18,16,23],[64,19,16,23,"apply"],[64,24,16,23],[64,31,16,23,"arguments"],[64,40,16,23],[65,4,16,23],[66,2,16,23],[66,5,22,1],[67,2,24,0],[67,6,24,6,"api"],[67,9,24,9],[67,12,24,12,"axios"],[67,17,24,17],[67,18,24,17,"default"],[67,25,24,17],[67,26,24,18,"create"],[67,32,24,24],[67,33,24,25],[68,4,25,2,"baseURL"],[68,11,25,9],[68,13,25,11],[68,16,25,14,"API_URL"],[68,23,25,21],[68,29,25,27],[69,4,26,2,"timeout"],[69,11,26,9],[69,13,26,11],[69,18,26,16],[70,4,27,2,"headers"],[70,11,27,9],[70,13,27,11],[71,6,28,4],[71,20,28,18],[71,22,28,20],[72,4,29,2],[73,2,30,0],[73,3,30,1],[73,4,30,2],[75,2,32,0],[76,2,33,0,"api"],[76,5,33,3],[76,6,33,4,"interceptors"],[76,18,33,16],[76,19,33,17,"request"],[76,26,33,24],[76,27,33,25,"use"],[76,30,33,28],[77,4,33,28],[77,8,33,28,"_ref3"],[77,13,33,28],[77,20,33,28,"_asyncToGenerator"],[77,37,33,28],[77,38,33,28,"default"],[77,45,33,28],[77,47,34,2],[77,58,34,9,"config"],[77,64,34,15],[77,66,34,20],[78,6,35,4],[78,10,35,10,"token"],[78,15,35,15],[78,24,35,24,"getStorageItem"],[78,38,35,38],[78,39,35,39],[78,51,35,51],[78,52,35,52],[79,6,36,4],[79,10,36,8,"token"],[79,15,36,13],[79,17,36,15],[80,8,37,6,"config"],[80,14,37,12],[80,15,37,13,"headers"],[80,22,37,20],[80,23,37,21,"Authorization"],[80,36,37,34],[80,39,37,37],[80,49,37,47,"token"],[80,54,37,52],[80,56,37,54],[81,6,38,4],[82,6,39,4],[82,13,39,11,"config"],[82,19,39,17],[83,4,40,2],[83,5,40,3],[84,4,40,3],[84,21,40,3,"_x3"],[84,24,40,3],[85,6,40,3],[85,13,40,3,"_ref3"],[85,18,40,3],[85,19,40,3,"apply"],[85,24,40,3],[85,31,40,3,"arguments"],[85,40,40,3],[86,4,40,3],[87,2,40,3],[87,7,41,3,"error"],[87,12,41,8],[87,16,41,13],[88,4,42,4],[88,11,42,11,"Promise"],[88,18,42,18],[88,19,42,19,"reject"],[88,25,42,25],[88,26,42,26,"error"],[88,31,42,31],[88,32,42,32],[89,2,43,2],[89,3,44,0],[89,4,44,1],[91,2,46,0],[92,2,47,0,"api"],[92,5,47,3],[92,6,47,4,"interceptors"],[92,18,47,16],[92,19,47,17,"response"],[92,27,47,25],[92,28,47,26,"use"],[92,31,47,29],[92,32,48,3,"response"],[92,40,48,11],[92,44,48,16,"response"],[92,52,48,24],[92,54,49,3,"error"],[92,59,49,8],[92,63,49,13],[93,4,50,4],[93,8,50,8,"error"],[93,13,50,13],[93,14,50,14,"response"],[93,22,50,22],[93,24,50,24,"status"],[93,30,50,30],[93,35,50,35],[93,38,50,38],[93,40,50,40],[94,6,51,6],[95,6,52,6,"deleteStorageItem"],[95,23,52,23],[95,24,52,24],[95,36,52,36],[95,37,52,37],[96,6,53,6,"deleteStorageItem"],[96,23,53,23],[96,24,53,24],[96,35,53,35],[96,36,53,36],[97,4,54,4],[98,4,55,4],[98,11,55,11,"Promise"],[98,18,55,18],[98,19,55,19,"reject"],[98,25,55,25],[98,26,55,26,"error"],[98,31,55,31],[98,32,55,32],[99,2,56,2],[99,3,57,0],[99,4,57,1],[100,2,59,0],[100,6,59,0,"_default"],[100,14,59,0],[100,17,59,15,"api"],[100,20,59,18],[101,0,59,19],[101,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCO;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}