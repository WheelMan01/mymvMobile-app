{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":77},"end":{"line":3,"column":40,"index":117}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"API_URL\", {\n    enumerable: true,\n    get: function () {\n      return API_URL;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  // CRITICAL: This is the SHARED backend API used by both web and mobile apps\n  // This URL points to the web workspace's backend (Job: 961c0d08...)\n  // DO NOT CHANGE THIS URL unless instructed by the web developer\n  var API_URL = 'https://apicache-fix.preview.emergentagent.com';\n\n  // Log to verify correct URL is being used\n  console.log('ðŸ”— [POST-FORK-FIX-v2] Mobile App Backend URL:', API_URL);\n  console.log('âœ… Connected to shared backend (web workspace)');\n\n  // Storage helpers that work on both web and native\n  var getStorageItem = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        return localStorage.getItem(key);\n      } else {\n        return yield SecureStore.getItemAsync(key);\n      }\n    });\n    return function getStorageItem(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var deleteStorageItem = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        yield SecureStore.deleteItemAsync(key);\n      }\n    });\n    return function deleteStorageItem(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (config) {\n      var token = yield getStorageItem('auth_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":114,"map":[[27,2,66,0,"Object"],[27,8,66,0],[27,9,66,0,"defineProperty"],[27,23,66,0],[27,24,66,0,"exports"],[27,31,66,0],[28,4,66,0,"enumerable"],[28,14,66,0],[29,4,66,0,"get"],[29,7,66,0],[29,18,66,0,"get"],[29,19,66,0],[30,6,66,0],[30,13,66,0,"_default"],[30,21,66,0],[31,4,66,0],[32,2,66,0],[33,2,8,0,"Object"],[33,8,8,0],[33,9,8,0,"defineProperty"],[33,23,8,0],[33,24,8,0,"exports"],[33,31,8,0],[34,4,8,0,"enumerable"],[34,14,8,0],[35,4,8,0,"get"],[35,7,8,0],[35,18,8,0,"get"],[35,19,8,0],[36,6,8,0],[36,13,8,0,"API_URL"],[36,20,8,0],[37,4,8,0],[38,2,8,0],[39,2,8,74],[39,6,8,74,"_babelRuntimeHelpersAsyncToGenerator"],[39,42,8,74],[39,45,8,74,"require"],[39,52,8,74],[39,53,8,74,"_dependencyMap"],[39,67,8,74],[40,2,8,74],[40,6,8,74,"_asyncToGenerator"],[40,23,8,74],[40,26,8,74,"_interopDefault"],[40,41,8,74],[40,42,8,74,"_babelRuntimeHelpersAsyncToGenerator"],[40,78,8,74],[41,2,1,0],[41,6,1,0,"_axios"],[41,12,1,0],[41,15,1,0,"require"],[41,22,1,0],[41,23,1,0,"_dependencyMap"],[41,37,1,0],[42,2,1,0],[42,6,1,0,"axios"],[42,11,1,0],[42,14,1,0,"_interopDefault"],[42,29,1,0],[42,30,1,0,"_axios"],[42,36,1,0],[43,2,2,0],[43,6,2,0,"_expoSecureStore"],[43,22,2,0],[43,25,2,0,"require"],[43,32,2,0],[43,33,2,0,"_dependencyMap"],[43,47,2,0],[44,2,2,0],[44,6,2,0,"SecureStore"],[44,17,2,0],[44,20,2,0,"_interopNamespace"],[44,37,2,0],[44,38,2,0,"_expoSecureStore"],[44,54,2,0],[45,2,3,0],[45,6,3,0,"_reactNative"],[45,18,3,0],[45,21,3,0,"require"],[45,28,3,0],[45,29,3,0,"_dependencyMap"],[45,43,3,0],[46,2,5,0],[47,2,6,0],[48,2,7,0],[49,2,8,7],[49,6,8,13,"API_URL"],[49,13,8,20],[49,16,8,23],[49,66,8,73],[51,2,10,0],[52,2,11,0,"console"],[52,9,11,7],[52,10,11,8,"log"],[52,13,11,11],[52,14,11,12],[52,61,11,59],[52,63,11,61,"API_URL"],[52,70,11,68],[52,71,11,69],[53,2,12,0,"console"],[53,9,12,7],[53,10,12,8,"log"],[53,13,12,11],[53,14,12,12],[53,61,12,59],[53,62,12,60],[55,2,14,0],[56,2,15,0],[56,6,15,6,"getStorageItem"],[56,20,15,20],[57,4,15,20],[57,8,15,20,"_ref"],[57,12,15,20],[57,19,15,20,"_asyncToGenerator"],[57,36,15,20],[57,37,15,20,"default"],[57,44,15,20],[57,46,15,23],[57,57,15,30,"key"],[57,60,15,41],[57,62,15,46],[58,6,16,2],[58,10,16,6,"Platform"],[58,22,16,14],[58,23,16,14,"Platform"],[58,31,16,14],[58,32,16,15,"OS"],[58,34,16,17],[58,39,16,22],[58,44,16,27],[58,46,16,29],[59,8,17,4],[59,15,17,11,"localStorage"],[59,27,17,23],[59,28,17,24,"getItem"],[59,35,17,31],[59,36,17,32,"key"],[59,39,17,35],[59,40,17,36],[60,6,18,2],[60,7,18,3],[60,13,18,9],[61,8,19,4],[61,21,19,17,"SecureStore"],[61,32,19,28],[61,33,19,29,"getItemAsync"],[61,45,19,41],[61,46,19,42,"key"],[61,49,19,45],[61,50,19,46],[62,6,20,2],[63,4,21,0],[63,5,21,1],[64,4,21,1],[64,20,15,6,"getStorageItem"],[64,34,15,20,"getStorageItem"],[64,35,15,20,"_x"],[64,37,15,20],[65,6,15,20],[65,13,15,20,"_ref"],[65,17,15,20],[65,18,15,20,"apply"],[65,23,15,20],[65,30,15,20,"arguments"],[65,39,15,20],[66,4,15,20],[67,2,15,20],[67,5,21,1],[68,2,23,0],[68,6,23,6,"deleteStorageItem"],[68,23,23,23],[69,4,23,23],[69,8,23,23,"_ref2"],[69,13,23,23],[69,20,23,23,"_asyncToGenerator"],[69,37,23,23],[69,38,23,23,"default"],[69,45,23,23],[69,47,23,26],[69,58,23,33,"key"],[69,61,23,44],[69,63,23,49],[70,6,24,2],[70,10,24,6,"Platform"],[70,22,24,14],[70,23,24,14,"Platform"],[70,31,24,14],[70,32,24,15,"OS"],[70,34,24,17],[70,39,24,22],[70,44,24,27],[70,46,24,29],[71,8,25,4,"localStorage"],[71,20,25,16],[71,21,25,17,"removeItem"],[71,31,25,27],[71,32,25,28,"key"],[71,35,25,31],[71,36,25,32],[72,6,26,2],[72,7,26,3],[72,13,26,9],[73,8,27,4],[73,14,27,10,"SecureStore"],[73,25,27,21],[73,26,27,22,"deleteItemAsync"],[73,41,27,37],[73,42,27,38,"key"],[73,45,27,41],[73,46,27,42],[74,6,28,2],[75,4,29,0],[75,5,29,1],[76,4,29,1],[76,20,23,6,"deleteStorageItem"],[76,37,23,23,"deleteStorageItem"],[76,38,23,23,"_x2"],[76,41,23,23],[77,6,23,23],[77,13,23,23,"_ref2"],[77,18,23,23],[77,19,23,23,"apply"],[77,24,23,23],[77,31,23,23,"arguments"],[77,40,23,23],[78,4,23,23],[79,2,23,23],[79,5,29,1],[80,2,31,0],[80,6,31,6,"api"],[80,9,31,9],[80,12,31,12,"axios"],[80,17,31,17],[80,18,31,17,"default"],[80,25,31,17],[80,26,31,18,"create"],[80,32,31,24],[80,33,31,25],[81,4,32,2,"baseURL"],[81,11,32,9],[81,13,32,11],[81,16,32,14,"API_URL"],[81,23,32,21],[81,29,32,27],[82,4,33,2,"timeout"],[82,11,33,9],[82,13,33,11],[82,18,33,16],[83,4,34,2,"headers"],[83,11,34,9],[83,13,34,11],[84,6,35,4],[84,20,35,18],[84,22,35,20],[85,4,36,2],[86,2,37,0],[86,3,37,1],[86,4,37,2],[88,2,39,0],[89,2,40,0,"api"],[89,5,40,3],[89,6,40,4,"interceptors"],[89,18,40,16],[89,19,40,17,"request"],[89,26,40,24],[89,27,40,25,"use"],[89,30,40,28],[90,4,40,28],[90,8,40,28,"_ref3"],[90,13,40,28],[90,20,40,28,"_asyncToGenerator"],[90,37,40,28],[90,38,40,28,"default"],[90,45,40,28],[90,47,41,2],[90,58,41,9,"config"],[90,64,41,15],[90,66,41,20],[91,6,42,4],[91,10,42,10,"token"],[91,15,42,15],[91,24,42,24,"getStorageItem"],[91,38,42,38],[91,39,42,39],[91,51,42,51],[91,52,42,52],[92,6,43,4],[92,10,43,8,"token"],[92,15,43,13],[92,17,43,15],[93,8,44,6,"config"],[93,14,44,12],[93,15,44,13,"headers"],[93,22,44,20],[93,23,44,21,"Authorization"],[93,36,44,34],[93,39,44,37],[93,49,44,47,"token"],[93,54,44,52],[93,56,44,54],[94,6,45,4],[95,6,46,4],[95,13,46,11,"config"],[95,19,46,17],[96,4,47,2],[96,5,47,3],[97,4,47,3],[97,21,47,3,"_x3"],[97,24,47,3],[98,6,47,3],[98,13,47,3,"_ref3"],[98,18,47,3],[98,19,47,3,"apply"],[98,24,47,3],[98,31,47,3,"arguments"],[98,40,47,3],[99,4,47,3],[100,2,47,3],[100,7,48,3,"error"],[100,12,48,8],[100,16,48,13],[101,4,49,4],[101,11,49,11,"Promise"],[101,18,49,18],[101,19,49,19,"reject"],[101,25,49,25],[101,26,49,26,"error"],[101,31,49,31],[101,32,49,32],[102,2,50,2],[102,3,51,0],[102,4,51,1],[104,2,53,0],[105,2,54,0,"api"],[105,5,54,3],[105,6,54,4,"interceptors"],[105,18,54,16],[105,19,54,17,"response"],[105,27,54,25],[105,28,54,26,"use"],[105,31,54,29],[105,32,55,3,"response"],[105,40,55,11],[105,44,55,16,"response"],[105,52,55,24],[105,54,56,3,"error"],[105,59,56,8],[105,63,56,13],[106,4,57,4],[106,8,57,8,"error"],[106,13,57,13],[106,14,57,14,"response"],[106,22,57,22],[106,24,57,24,"status"],[106,30,57,30],[106,35,57,35],[106,38,57,38],[106,40,57,40],[107,6,58,6],[108,6,59,6,"deleteStorageItem"],[108,23,59,23],[108,24,59,24],[108,36,59,36],[108,37,59,37],[109,6,60,6,"deleteStorageItem"],[109,23,60,23],[109,24,60,24],[109,35,60,35],[109,36,60,36],[110,4,61,4],[111,4,62,4],[111,11,62,11,"Promise"],[111,18,62,18],[111,19,62,19,"reject"],[111,25,62,25],[111,26,62,26,"error"],[111,31,62,31],[111,32,62,32],[112,2,63,2],[112,3,64,0],[112,4,64,1],[113,2,66,0],[113,6,66,0,"_default"],[113,14,66,0],[113,17,66,15,"api"],[113,20,66,18],[114,0,66,19],[114,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCc;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}