{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":77},"end":{"line":3,"column":40,"index":117}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../backend-config.json","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":118},"end":{"line":4,"column":51,"index":169}}],"key":"Yg9oI/i39ksdVhZMppaxMFSSHg8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  var _backendConfigJson = require(_dependencyMap[5], \"../backend-config.json\");\n  var backendConfig = _interopDefault(_backendConfigJson);\n  // PERMANENT FIX: Read from backend-config.json first (survives forks), then fall back to .env\n  var API_URL = backendConfig.default.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n\n  // Storage helpers that work on both web and native\n  var getStorageItem = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        return localStorage.getItem(key);\n      } else {\n        return yield SecureStore.getItemAsync(key);\n      }\n    });\n    return function getStorageItem(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var deleteStorageItem = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (key) {\n      if (_reactNative.Platform.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        yield SecureStore.deleteItemAsync(key);\n      }\n    });\n    return function deleteStorageItem(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (config) {\n      var token = yield getStorageItem('auth_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":105,"map":[[27,2,61,0,"Object"],[27,8,61,0],[27,9,61,0,"defineProperty"],[27,23,61,0],[27,24,61,0,"exports"],[27,31,61,0],[28,4,61,0,"enumerable"],[28,14,61,0],[29,4,61,0,"get"],[29,7,61,0],[29,18,61,0,"get"],[29,19,61,0],[30,6,61,0],[30,13,61,0,"_default"],[30,21,61,0],[31,4,61,0],[32,2,61,0],[33,2,61,19],[33,6,61,19,"_babelRuntimeHelpersAsyncToGenerator"],[33,42,61,19],[33,45,61,19,"require"],[33,52,61,19],[33,53,61,19,"_dependencyMap"],[33,67,61,19],[34,2,61,19],[34,6,61,19,"_asyncToGenerator"],[34,23,61,19],[34,26,61,19,"_interopDefault"],[34,41,61,19],[34,42,61,19,"_babelRuntimeHelpersAsyncToGenerator"],[34,78,61,19],[35,2,61,19],[35,6,61,19,"_expoVirtualEnv"],[35,21,61,19],[35,24,61,19,"require"],[35,31,61,19],[35,32,61,19,"_dependencyMap"],[35,46,61,19],[36,2,1,0],[36,6,1,0,"_axios"],[36,12,1,0],[36,15,1,0,"require"],[36,22,1,0],[36,23,1,0,"_dependencyMap"],[36,37,1,0],[37,2,1,0],[37,6,1,0,"axios"],[37,11,1,0],[37,14,1,0,"_interopDefault"],[37,29,1,0],[37,30,1,0,"_axios"],[37,36,1,0],[38,2,2,0],[38,6,2,0,"_expoSecureStore"],[38,22,2,0],[38,25,2,0,"require"],[38,32,2,0],[38,33,2,0,"_dependencyMap"],[38,47,2,0],[39,2,2,0],[39,6,2,0,"SecureStore"],[39,17,2,0],[39,20,2,0,"_interopNamespace"],[39,37,2,0],[39,38,2,0,"_expoSecureStore"],[39,54,2,0],[40,2,3,0],[40,6,3,0,"_reactNative"],[40,18,3,0],[40,21,3,0,"require"],[40,28,3,0],[40,29,3,0,"_dependencyMap"],[40,43,3,0],[41,2,4,0],[41,6,4,0,"_backendConfigJson"],[41,24,4,0],[41,27,4,0,"require"],[41,34,4,0],[41,35,4,0,"_dependencyMap"],[41,49,4,0],[42,2,4,0],[42,6,4,0,"backendConfig"],[42,19,4,0],[42,22,4,0,"_interopDefault"],[42,37,4,0],[42,38,4,0,"_backendConfigJson"],[42,56,4,0],[43,2,6,0],[44,2,7,0],[44,6,7,6,"API_URL"],[44,13,7,13],[44,16,7,16,"backendConfig"],[44,29,7,29],[44,30,7,29,"default"],[44,37,7,29],[44,38,7,30,"backendUrl"],[44,48,7,40],[44,52,7,40,"_expoVirtualEnv"],[44,67,7,40],[44,68,7,40,"env"],[44,71,7,40],[44,72,7,40,"EXPO_PUBLIC_BACKEND_URL"],[44,95,7,79],[46,2,9,0],[47,2,10,0],[47,6,10,6,"getStorageItem"],[47,20,10,20],[48,4,10,20],[48,8,10,20,"_ref"],[48,12,10,20],[48,19,10,20,"_asyncToGenerator"],[48,36,10,20],[48,37,10,20,"default"],[48,44,10,20],[48,46,10,23],[48,57,10,30,"key"],[48,60,10,41],[48,62,10,46],[49,6,11,2],[49,10,11,6,"Platform"],[49,22,11,14],[49,23,11,14,"Platform"],[49,31,11,14],[49,32,11,15,"OS"],[49,34,11,17],[49,39,11,22],[49,44,11,27],[49,46,11,29],[50,8,12,4],[50,15,12,11,"localStorage"],[50,27,12,23],[50,28,12,24,"getItem"],[50,35,12,31],[50,36,12,32,"key"],[50,39,12,35],[50,40,12,36],[51,6,13,2],[51,7,13,3],[51,13,13,9],[52,8,14,4],[52,21,14,17,"SecureStore"],[52,32,14,28],[52,33,14,29,"getItemAsync"],[52,45,14,41],[52,46,14,42,"key"],[52,49,14,45],[52,50,14,46],[53,6,15,2],[54,4,16,0],[54,5,16,1],[55,4,16,1],[55,20,10,6,"getStorageItem"],[55,34,10,20,"getStorageItem"],[55,35,10,20,"_x"],[55,37,10,20],[56,6,10,20],[56,13,10,20,"_ref"],[56,17,10,20],[56,18,10,20,"apply"],[56,23,10,20],[56,30,10,20,"arguments"],[56,39,10,20],[57,4,10,20],[58,2,10,20],[58,5,16,1],[59,2,18,0],[59,6,18,6,"deleteStorageItem"],[59,23,18,23],[60,4,18,23],[60,8,18,23,"_ref2"],[60,13,18,23],[60,20,18,23,"_asyncToGenerator"],[60,37,18,23],[60,38,18,23,"default"],[60,45,18,23],[60,47,18,26],[60,58,18,33,"key"],[60,61,18,44],[60,63,18,49],[61,6,19,2],[61,10,19,6,"Platform"],[61,22,19,14],[61,23,19,14,"Platform"],[61,31,19,14],[61,32,19,15,"OS"],[61,34,19,17],[61,39,19,22],[61,44,19,27],[61,46,19,29],[62,8,20,4,"localStorage"],[62,20,20,16],[62,21,20,17,"removeItem"],[62,31,20,27],[62,32,20,28,"key"],[62,35,20,31],[62,36,20,32],[63,6,21,2],[63,7,21,3],[63,13,21,9],[64,8,22,4],[64,14,22,10,"SecureStore"],[64,25,22,21],[64,26,22,22,"deleteItemAsync"],[64,41,22,37],[64,42,22,38,"key"],[64,45,22,41],[64,46,22,42],[65,6,23,2],[66,4,24,0],[66,5,24,1],[67,4,24,1],[67,20,18,6,"deleteStorageItem"],[67,37,18,23,"deleteStorageItem"],[67,38,18,23,"_x2"],[67,41,18,23],[68,6,18,23],[68,13,18,23,"_ref2"],[68,18,18,23],[68,19,18,23,"apply"],[68,24,18,23],[68,31,18,23,"arguments"],[68,40,18,23],[69,4,18,23],[70,2,18,23],[70,5,24,1],[71,2,26,0],[71,6,26,6,"api"],[71,9,26,9],[71,12,26,12,"axios"],[71,17,26,17],[71,18,26,17,"default"],[71,25,26,17],[71,26,26,18,"create"],[71,32,26,24],[71,33,26,25],[72,4,27,2,"baseURL"],[72,11,27,9],[72,13,27,11],[72,16,27,14,"API_URL"],[72,23,27,21],[72,29,27,27],[73,4,28,2,"timeout"],[73,11,28,9],[73,13,28,11],[73,18,28,16],[74,4,29,2,"headers"],[74,11,29,9],[74,13,29,11],[75,6,30,4],[75,20,30,18],[75,22,30,20],[76,4,31,2],[77,2,32,0],[77,3,32,1],[77,4,32,2],[79,2,34,0],[80,2,35,0,"api"],[80,5,35,3],[80,6,35,4,"interceptors"],[80,18,35,16],[80,19,35,17,"request"],[80,26,35,24],[80,27,35,25,"use"],[80,30,35,28],[81,4,35,28],[81,8,35,28,"_ref3"],[81,13,35,28],[81,20,35,28,"_asyncToGenerator"],[81,37,35,28],[81,38,35,28,"default"],[81,45,35,28],[81,47,36,2],[81,58,36,9,"config"],[81,64,36,15],[81,66,36,20],[82,6,37,4],[82,10,37,10,"token"],[82,15,37,15],[82,24,37,24,"getStorageItem"],[82,38,37,38],[82,39,37,39],[82,51,37,51],[82,52,37,52],[83,6,38,4],[83,10,38,8,"token"],[83,15,38,13],[83,17,38,15],[84,8,39,6,"config"],[84,14,39,12],[84,15,39,13,"headers"],[84,22,39,20],[84,23,39,21,"Authorization"],[84,36,39,34],[84,39,39,37],[84,49,39,47,"token"],[84,54,39,52],[84,56,39,54],[85,6,40,4],[86,6,41,4],[86,13,41,11,"config"],[86,19,41,17],[87,4,42,2],[87,5,42,3],[88,4,42,3],[88,21,42,3,"_x3"],[88,24,42,3],[89,6,42,3],[89,13,42,3,"_ref3"],[89,18,42,3],[89,19,42,3,"apply"],[89,24,42,3],[89,31,42,3,"arguments"],[89,40,42,3],[90,4,42,3],[91,2,42,3],[91,7,43,3,"error"],[91,12,43,8],[91,16,43,13],[92,4,44,4],[92,11,44,11,"Promise"],[92,18,44,18],[92,19,44,19,"reject"],[92,25,44,25],[92,26,44,26,"error"],[92,31,44,31],[92,32,44,32],[93,2,45,2],[93,3,46,0],[93,4,46,1],[95,2,48,0],[96,2,49,0,"api"],[96,5,49,3],[96,6,49,4,"interceptors"],[96,18,49,16],[96,19,49,17,"response"],[96,27,49,25],[96,28,49,26,"use"],[96,31,49,29],[96,32,50,3,"response"],[96,40,50,11],[96,44,50,16,"response"],[96,52,50,24],[96,54,51,3,"error"],[96,59,51,8],[96,63,51,13],[97,4,52,4],[97,8,52,8,"error"],[97,13,52,13],[97,14,52,14,"response"],[97,22,52,22],[97,24,52,24,"status"],[97,30,52,30],[97,35,52,35],[97,38,52,38],[97,40,52,40],[98,6,53,6],[99,6,54,6,"deleteStorageItem"],[99,23,54,23],[99,24,54,24],[99,36,54,36],[99,37,54,37],[100,6,55,6,"deleteStorageItem"],[100,23,55,23],[100,24,55,24],[100,35,55,35],[100,36,55,36],[101,4,56,4],[102,4,57,4],[102,11,57,11,"Promise"],[102,18,57,18],[102,19,57,19,"reject"],[102,25,57,25],[102,26,57,26,"error"],[102,31,57,31],[102,32,57,32],[103,2,58,2],[103,3,59,0],[103,4,59,1],[104,2,61,0],[104,6,61,0,"_default"],[104,14,61,0],[104,17,61,15,"api"],[104,20,61,18],[105,0,61,19],[105,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCS;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}