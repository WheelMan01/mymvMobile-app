{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":26,"index":155}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../backend-config.json","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":197},"end":{"line":5,"column":51,"index":248}}],"key":"Yg9oI/i39ksdVhZMppaxMFSSHg8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return h}});var t=r(_d[0]),o=((function(e){if(e&&e.__esModule)return e;var t={};e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e})(r(_d[1])),e(r(_d[2])));r(_d[3]);var n=e(r(_d[4])),s=r(_d[5]);const c=n.default.backendUrl||\"https://mobile-spec-sync.preview.emergentagent.com\";console.log('\\ud83d\\udd27 AuthContext API_URL:',c),console.log('\\ud83d\\udd27 Using backend-config.json:',n.default.backendUrl);const l=async(e,t)=>{localStorage.setItem(e,t)},u=async e=>localStorage.getItem(e),d=async e=>{localStorage.removeItem(e)},f=(0,t.createContext)({}),p=()=>(0,t.useContext)(f),h=({children:e})=>{const[n,p]=(0,t.useState)(null),[h,w]=(0,t.useState)(null),[y,_]=(0,t.useState)(!0);(0,t.useEffect)(()=>{k()},[]);const k=async()=>{try{const e=await u('auth_token'),t=await u('user_data');if(e&&t){w(e),p(JSON.parse(t));try{const t=await o.default.get(`${c}/api/auth/me`,{headers:{Authorization:`Bearer ${e}`}});p(t.data)}catch(e){await d('auth_token'),await d('user_data'),w(null),p(null)}}}catch(e){console.error('Error loading auth:',e)}finally{_(!1)}};return(0,s.jsx)(f.Provider,{value:{user:n,token:h,login:async(e,t)=>{try{const n=await o.default.post(`${c}/api/auth/login`,{email:e,password:t}),{access_token:s,user:u}=n.data;await l('auth_token',s),await l('user_data',JSON.stringify(u)),w(s),p(u)}catch(e){throw new Error(e.response?.data?.detail||'Login failed')}},pinLogin:async(e,t)=>{try{const n=`${c}/api/auth/pin-login`;console.log('=== PIN Login Debug ==='),console.log('URL:',n),console.log('Email:',e),console.log('PIN:',t);const s=await o.default.post(n,{email:e.toLowerCase().trim(),pin:t});console.log('Success! Response:',s.data);const{access_token:u,user:d}=s.data;if(!u)throw new Error('No access token received from server');await l('auth_token',u),await l('user_data',JSON.stringify(d)),w(u),p(d)}catch(e){console.error('=== PIN Login Error ==='),console.error('Full error:',e),console.error('Error response:',e.response),console.error('Error data:',e.response?.data),console.error('Error message:',e.message);let t='Login failed. Please check your credentials.';if(e.response?.data){const o=e.response.data;'string'==typeof o?t=o:o.detail?t=o.detail:o.message?t=o.message:o.error&&(t=o.error)}else e.message&&'Network Error'!==e.message&&(t=e.message);throw console.error('Final error message:',t),new Error(t)}},register:async(e,t,n,s)=>{try{const u=await o.default.post(`${c}/api/auth/register`,{email:e,password:t,full_name:n,phone:s}),{access_token:d,user:f}=u.data;await l('auth_token',d),await l('user_data',JSON.stringify(f)),w(d),p(f)}catch(e){throw new Error(e.response?.data?.detail||'Registration failed')}},logout:async()=>{await d('auth_token'),await d('user_data'),w(null),p(null)},isLoading:y},children:e})}});","lineCount":1,"map":[[1,144,61,0,"Object"],[1,151,61,0,"defineProperty"],[1,166,61,0,"_e"],[1,169,61,0],[1,180,61,0,"enumerable"],[1,192,61,0],[1,194,61,0,"get"],[1,198,61,0],[1,216,61,0,"useAuth"],[1,217,61,0],[1,221,63,0,"Object"],[1,228,63,0,"defineProperty"],[1,243,63,0,"_e"],[1,246,63,0],[1,262,63,0,"enumerable"],[1,274,63,0],[1,276,63,0,"get"],[1,280,63,0],[1,298,63,0,"AuthProvider"],[1,299,63,0],[1,303,1,0],[1,307,1,0,"_react"],[1,309,1,0,"r"],[1,311,1,0,"_d"],[1,314,1,0],[1,318,3,0,"axios"],[1,322],[1,546,2,0,"_interopNamespace"],[1,547,2,0,"r"],[1,549,2,0,"_d"],[1,552,2,0],[1,557,3,0,"_interopDefault"],[1,559,3,0,"r"],[1,561,3,0,"_d"],[1,564,3,0],[1,570,3,26,"r"],[1,572,3,26,"_d"],[1,575,3,26],[1,579,5,0],[1,583,5,0,"backendConfig"],[1,585,5,0,"_interopDefault"],[1,587,5,0,"r"],[1,589,5,0,"_d"],[1,592,5,0],[1,597,5,51,"_reactJsxRuntime"],[1,599,5,51,"r"],[1,601,5,51,"_d"],[1,604,5,51],[1,608,8,0],[1,614,8,6,"API_URL"],[1,616,8,16,"backendConfig"],[1,618,8,29,"default"],[1,626,8,30,"backendUrl"],[1,638,8,40],[1,691,9,0,"console"],[1,699,9,8,"log"],[1,703,9,12],[1,739,9,39,"API_URL"],[1,742,10,0,"console"],[1,750,10,8,"log"],[1,754,10,12],[1,796,10,45,"backendConfig"],[1,798,10,58,"default"],[1,806,10,59,"backendUrl"],[1,818,13,0],[1,824,13,6,"setStorageItem"],[1,826,13,23,"async"],[1,832,13,30,"key"],[1,834,13,43,"value"],[1,839,15,4,"localStorage"],[1,852,15,17,"setItem"],[1,860,15,25,"key"],[1,862,15,30,"value"],[1,866,21,6,"getStorageItem"],[1,868,21,23,"async"],[1,877,23,11,"localStorage"],[1,890,23,24,"getItem"],[1,898,23,32,"key"],[1,901,29,6,"deleteStorageItem"],[1,903,29,26,"async"],[1,913,31,4,"localStorage"],[1,926,31,17,"removeItem"],[1,937,31,28,"key"],[1,941,59,6,"AuthContext"],[1,944,59,20],[1,946,59,20,"createContext"],[1,948,59,33,"createContext"],[1,963,59,51],[1,964,59,52],[1,967,61,13,"useAuth"],[1,969,61,23,"useAuth"],[1,974,61,29],[1,976,61,29,"useContext"],[1,978,61,39,"useContext"],[1,990,61,40,"AuthContext"],[1,993,63,13,"AuthProvider"],[1,995,63,28,"AuthProvider"],[1,997,63,31,"children"],[1,1012,64,2],[1,1018,64,9,"user"],[1,1020,64,15,"setUser"],[1,1024,64,26],[1,1026,64,26,"useState"],[1,1028,64,34,"useState"],[1,1038,64,48],[1,1045,65,9,"token"],[1,1047,65,16,"setToken"],[1,1051,65,28],[1,1053,65,28,"useState"],[1,1055,65,36,"useState"],[1,1065,65,52],[1,1072,66,9,"isLoading"],[1,1074,66,20,"setIsLoading"],[1,1078,66,36],[1,1080,66,36,"useState"],[1,1082,66,44,"useState"],[1,1093,66,45],[1,1097,68,2],[1,1099,68,2,"useEffect"],[1,1101,68,11,"useEffect"],[1,1112,68,12],[1,1117,69,4,"loadStoredAuth"],[1,1122,70,5],[1,1126,72,2],[1,1132,72,8,"loadStoredAuth"],[1,1134,72,25,"async"],[1,1144,73,4],[1,1148,74,6],[1,1154,74,12,"storedToken"],[1,1162,74,32,"getStorageItem"],[1,1164,74,47],[1,1178,75,12,"storedUser"],[1,1186,75,31,"getStorageItem"],[1,1188,75,46],[1,1201,77,6],[1,1204,77,10,"storedToken"],[1,1207,77,25,"storedUser"],[1,1209,77,37],[1,1210,78,8,"setToken"],[1,1212,78,17,"storedToken"],[1,1215,79,8,"setUser"],[1,1217,79,16,"JSON"],[1,1222,79,21,"parse"],[1,1228,79,27,"storedUser"],[1,1232,82,8],[1,1236,83,10],[1,1242,83,16,"response"],[1,1250,83,33,"axios"],[1,1252,83,38,"default"],[1,1260,83,39,"get"],[1,1264,83,43],[1,1267,83,46,"API_URL"],[1,1283,83,69],[1,1284,84,12,"headers"],[1,1292,84,21],[1,1293,84,23,"Authorization"],[1,1307,84,38],[1,1317,84,48,"storedToken"],[1,1324,86,10,"setUser"],[1,1326,86,18,"response"],[1,1328,86,27,"data"],[1,1333,87,8],[1,1334,87,10],[1,1340,87,17,"error"],[1,1349,89,16,"deleteStorageItem"],[1,1351,89,34],[1,1371,90,16,"deleteStorageItem"],[1,1373,90,34],[1,1386,91,10,"setToken"],[1,1388,91,19],[1,1394,92,10,"setUser"],[1,1396,92,18],[1,1401,93,8],[1,1402,94,6],[1,1403,95,4],[1,1404,95,6],[1,1410,95,13,"error"],[1,1413,96,6,"console"],[1,1421,96,14,"error"],[1,1427,96,20],[1,1449,96,43,"error"],[1,1451,97,4],[1,1452,97,5],[1,1460,98,6,"setIsLoading"],[1,1463,98,19],[1,1465,99,4],[1,1468,205,2],[1,1475,206,4],[1,1477,206,4,"_reactJsxRuntime"],[1,1479,206,4,"jsx"],[1,1484,206,5,"AuthContext"],[1,1486,206,17,"Provider"],[1,1495,206,25],[1,1496,206,26,"value"],[1,1502,206,33],[1,1503,206,35,"user"],[1,1510,206,41,"token"],[1,1518,206,48,"login"],[1,1524,102,16,"async"],[1,1530,102,23,"email"],[1,1532,102,38,"password"],[1,1537,103,4],[1,1541,104,6],[1,1547,104,12,"response"],[1,1555,104,29,"axios"],[1,1557,104,34,"default"],[1,1565,104,35,"post"],[1,1570,104,40],[1,1573,104,43,"API_URL"],[1,1592,104,69],[1,1593,105,8,"email"],[1,1601,106,8,"password"],[1,1615,109,12,"access_token"],[1,1628,109,14,"access_token"],[1,1630,109,28,"user"],[1,1635,109,34,"userData"],[1,1638,109,47,"response"],[1,1640,109,56,"data"],[1,1651,111,12,"setStorageItem"],[1,1653,111,27],[1,1666,111,41,"access_token"],[1,1675,112,12,"setStorageItem"],[1,1677,112,27],[1,1689,112,40,"JSON"],[1,1694,112,45,"stringify"],[1,1704,112,55,"userData"],[1,1708,114,6,"setToken"],[1,1710,114,15,"access_token"],[1,1713,115,6,"setUser"],[1,1715,115,14,"userData"],[1,1717,116,4],[1,1718,116,6],[1,1724,116,13,"error"],[1,1727,117,6],[1,1733,117,12],[1,1737,117,16,"Error"],[1,1743,117,22,"error"],[1,1745,117,28,"response"],[1,1755,117,38,"data"],[1,1761,117,44,"detail"],[1,1769,117,54],[1,1784,118,4],[1,1787,206,55,"pinLogin"],[1,1796,121,19,"async"],[1,1802,121,26,"email"],[1,1804,121,41,"pin"],[1,1809,122,4],[1,1813,123,6],[1,1819,123,12,"url"],[1,1821,123,18],[1,1824,123,21,"API_URL"],[1,1847,124,6,"console"],[1,1855,124,14,"log"],[1,1859,124,18],[1,1886,125,6,"console"],[1,1894,125,14,"log"],[1,1898,125,18],[1,1905,125,26,"url"],[1,1908,126,6,"console"],[1,1916,126,14,"log"],[1,1920,126,18],[1,1929,126,28,"email"],[1,1932,127,6,"console"],[1,1940,127,14,"log"],[1,1944,127,18],[1,1951,127,26,"pin"],[1,1954,129,6],[1,1960,129,12,"response"],[1,1968,129,29,"axios"],[1,1970,129,34,"default"],[1,1978,129,35,"post"],[1,1983,129,40,"url"],[1,1985,129,45],[1,1986,130,8,"email"],[1,1992,130,15,"email"],[1,1994,130,21,"toLowerCase"],[1,2008,130,35,"trim"],[1,2015,131,8,"pin"],[1,2023,134,6,"console"],[1,2031,134,14,"log"],[1,2035,134,18],[1,2056,134,40,"response"],[1,2058,134,49,"data"],[1,2064,136,6],[1,2070,136,12,"access_token"],[1,2083,136,14,"access_token"],[1,2085,136,28,"user"],[1,2090,136,34,"userData"],[1,2093,136,47,"response"],[1,2095,136,56,"data"],[1,2100,138,6],[1,2104,138,11,"access_token"],[1,2106,139,8],[1,2112,139,14],[1,2116,139,18,"Error"],[1,2122,139,24],[1,2168,142,12,"setStorageItem"],[1,2170,142,27],[1,2183,142,41,"access_token"],[1,2192,143,12,"setStorageItem"],[1,2194,143,27],[1,2206,143,40,"JSON"],[1,2211,143,45,"stringify"],[1,2221,143,55,"userData"],[1,2225,145,6,"setToken"],[1,2227,145,15,"access_token"],[1,2230,146,6,"setUser"],[1,2232,146,14,"userData"],[1,2234,147,4],[1,2235,147,6],[1,2241,147,13,"error"],[1,2244,148,6,"console"],[1,2252,148,14,"error"],[1,2258,148,20],[1,2285,149,6,"console"],[1,2293,149,14,"error"],[1,2299,149,20],[1,2313,149,35,"error"],[1,2316,150,6,"console"],[1,2324,150,14,"error"],[1,2330,150,20],[1,2348,150,39,"error"],[1,2350,150,45,"response"],[1,2360,151,6,"console"],[1,2368,151,14,"error"],[1,2374,151,20],[1,2388,151,35,"error"],[1,2390,151,41,"response"],[1,2400,151,51,"data"],[1,2406,152,6,"console"],[1,2414,152,14,"error"],[1,2420,152,20],[1,2437,152,38,"error"],[1,2439,152,44,"message"],[1,2448,155,6],[1,2452,155,10,"errorMessage"],[1,2454,155,25],[1,2501,157,6],[1,2504,157,10,"error"],[1,2506,157,16,"response"],[1,2516,157,26,"data"],[1,2521,157,32],[1,2522,158,8],[1,2528,158,14,"data"],[1,2530,158,21,"error"],[1,2532,158,27,"response"],[1,2541,158,36,"data"],[1,2546,159,28],[1,2563,159,19,"data"],[1,2565,160,10,"errorMessage"],[1,2567,160,25,"data"],[1,2569,161,19,"data"],[1,2571,161,24,"detail"],[1,2578,162,10,"errorMessage"],[1,2580,162,25,"data"],[1,2582,162,30,"detail"],[1,2589,163,19,"data"],[1,2591,163,24,"message"],[1,2599,164,10,"errorMessage"],[1,2601,164,25,"data"],[1,2603,164,30,"message"],[1,2611,165,19,"data"],[1,2613,165,24,"error"],[1,2621,166,10,"errorMessage"],[1,2623,166,25,"data"],[1,2625,166,30,"error"],[1,2631,168,6],[1,2637,168,17,"error"],[1,2639,168,23,"message"],[1,2648,168,52],[1,2666,168,34,"error"],[1,2668,168,40,"message"],[1,2678,169,8,"errorMessage"],[1,2680,169,23,"error"],[1,2682,169,29,"message"],[1,2691,173,6],[1,2697,172,6,"console"],[1,2705,172,14,"error"],[1,2711,172,20],[1,2734,172,44,"errorMessage"],[1,2737,173,12],[1,2741,173,16,"Error"],[1,2747,173,22,"errorMessage"],[1,2749,174,4],[1,2752,206,65,"register"],[1,2761,177,19,"async"],[1,2767,177,26,"email"],[1,2769,177,41,"password"],[1,2771,177,59,"fullName"],[1,2773,177,77,"phone"],[1,2778,178,4],[1,2782,179,6],[1,2788,179,12,"response"],[1,2796,179,29,"axios"],[1,2798,179,34,"default"],[1,2806,179,35,"post"],[1,2811,179,40],[1,2814,179,43,"API_URL"],[1,2836,179,72],[1,2837,180,8,"email"],[1,2845,181,8,"password"],[1,2856,182,8,"full_name"],[1,2866,182,19,"fullName"],[1,2868,183,8,"phone"],[1,2879,186,12,"access_token"],[1,2892,186,14,"access_token"],[1,2894,186,28,"user"],[1,2899,186,34,"userData"],[1,2902,186,47,"response"],[1,2904,186,56,"data"],[1,2915,188,12,"setStorageItem"],[1,2917,188,27],[1,2930,188,41,"access_token"],[1,2939,189,12,"setStorageItem"],[1,2941,189,27],[1,2953,189,40,"JSON"],[1,2958,189,45,"stringify"],[1,2968,189,55,"userData"],[1,2972,191,6,"setToken"],[1,2974,191,15,"access_token"],[1,2977,192,6,"setUser"],[1,2979,192,14,"userData"],[1,2981,193,4],[1,2982,193,6],[1,2988,193,13,"error"],[1,2991,194,6],[1,2997,194,12],[1,3001,194,16,"Error"],[1,3007,194,22,"error"],[1,3009,194,28,"response"],[1,3019,194,38,"data"],[1,3025,194,44,"detail"],[1,3033,194,54],[1,3055,195,4],[1,3058,206,75,"logout"],[1,3065,198,17,"async"],[1,3081,199,10,"deleteStorageItem"],[1,3083,199,28],[1,3103,200,10,"deleteStorageItem"],[1,3105,200,28],[1,3118,201,4,"setToken"],[1,3120,201,13],[1,3126,202,4,"setUser"],[1,3128,202,12],[1,3135,206,83,"isLoading"],[1,3148,206,95,"children"],[1,3157,207,7,"children"],[1,3161,210,2],[1,3164]],"functionMap":{"names":["<global>","setStorageItem","getStorageItem","deleteStorageItem","useAuth","AuthProvider","useEffect$argument_0","loadStoredAuth","login","pinLogin","register","logout"],"mappings":"AAA;uBCY;CDM;uBEE;CFM;0BGE;CHM;uBI0B,6BJ;4BKE;YCK;GDE;yBEE;GF4B;gBGE;GHiB;mBIE;GJsD;mBKE;GLmB;iBME;GNK;CLO"},"hasCjsExports":false},"type":"js/module"}]}