{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":26,"index":96}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"fetchLogosFromAPI\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosFromAPI;\n    }\n  });\n  Object.defineProperty(exports, \"fetchLogosWithCache\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosWithCache;\n    }\n  });\n  Object.defineProperty(exports, \"clearLogosCache\", {\n    enumerable: true,\n    get: function () {\n      return clearLogosCache;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_BASE = 'https://carmgmt-hub.preview.emergentagent.com';\n  const CACHE_KEY = 'app_logos_cache';\n  const CACHE_EXPIRY_KEY = 'app_logos_cache_expiry';\n  const CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\n  const fetchLogosFromAPI = async () => {\n    try {\n      const response = await axios.default.get(`${API_BASE}/api/settings`);\n      if (response.data?.status === 'success' && response.data?.data) {\n        return {\n          logo_light_bg: response.data.data.logo_light_bg || null,\n          logo_dark_bg: response.data.data.logo_dark_bg || null,\n          logo_footer: response.data.data.logo_footer || null,\n          logo_colored_bg: response.data.data.logo_colored_bg || null\n        };\n      }\n      throw new Error('Invalid API response');\n    } catch (error) {\n      console.error('Error fetching logos from API:', error);\n      throw error;\n    }\n  };\n  const fetchLogosWithCache = async () => {\n    try {\n      // Try to get from cache first\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      const cacheExpiry = await AsyncStorage.default.getItem(CACHE_EXPIRY_KEY);\n      if (cachedData && cacheExpiry) {\n        const expiry = parseInt(cacheExpiry, 10);\n        const now = Date.now();\n\n        // If cache is still valid\n        if (now < expiry) {\n          console.log('‚úÖ Using cached logos');\n          return JSON.parse(cachedData);\n        }\n      }\n\n      // Cache expired or doesn't exist, fetch from API\n      console.log('üîÑ Fetching logos from API...');\n      const logos = await fetchLogosFromAPI();\n\n      // Save to cache\n      await AsyncStorage.default.setItem(CACHE_KEY, JSON.stringify(logos));\n      await AsyncStorage.default.setItem(CACHE_EXPIRY_KEY, (Date.now() + CACHE_DURATION).toString());\n      console.log('‚úÖ Logos fetched and cached');\n      return logos;\n    } catch (error) {\n      console.error('Error in fetchLogosWithCache:', error);\n\n      // Try to return stale cache as fallback\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      if (cachedData) {\n        console.log('‚ö†Ô∏è Using stale cache as fallback');\n        return JSON.parse(cachedData);\n      }\n\n      // Return empty logos if all fails\n      return {\n        logo_light_bg: null,\n        logo_dark_bg: null,\n        logo_footer: null,\n        logo_colored_bg: null\n      };\n    }\n  };\n  const clearLogosCache = async () => {\n    await AsyncStorage.default.removeItem(CACHE_KEY);\n    await AsyncStorage.default.removeItem(CACHE_EXPIRY_KEY);\n    console.log('üóëÔ∏è Logos cache cleared');\n  };\n});","lineCount":105,"map":[[12,2,21,0,"Object"],[12,8,21,0],[12,9,21,0,"defineProperty"],[12,23,21,0],[12,24,21,0,"exports"],[12,31,21,0],[13,4,21,0,"enumerable"],[13,14,21,0],[14,4,21,0,"get"],[14,7,21,0],[14,18,21,0,"get"],[14,19,21,0],[15,6,21,0],[15,13,21,0,"fetchLogosFromAPI"],[15,30,21,0],[16,4,21,0],[17,2,21,0],[18,2,41,0,"Object"],[18,8,41,0],[18,9,41,0,"defineProperty"],[18,23,41,0],[18,24,41,0,"exports"],[18,31,41,0],[19,4,41,0,"enumerable"],[19,14,41,0],[20,4,41,0,"get"],[20,7,41,0],[20,18,41,0,"get"],[20,19,41,0],[21,6,41,0],[21,13,41,0,"fetchLogosWithCache"],[21,32,41,0],[22,4,41,0],[23,2,41,0],[24,2,88,0,"Object"],[24,8,88,0],[24,9,88,0,"defineProperty"],[24,23,88,0],[24,24,88,0,"exports"],[24,31,88,0],[25,4,88,0,"enumerable"],[25,14,88,0],[26,4,88,0,"get"],[26,7,88,0],[26,18,88,0,"get"],[26,19,88,0],[27,6,88,0],[27,13,88,0,"clearLogosCache"],[27,28,88,0],[28,4,88,0],[29,2,88,0],[30,2,1,0],[30,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[30,42,1,0],[30,45,1,0,"require"],[30,52,1,0],[30,53,1,0,"_dependencyMap"],[30,67,1,0],[31,2,1,0],[31,6,1,0,"AsyncStorage"],[31,18,1,0],[31,21,1,0,"_interopDefault"],[31,36,1,0],[31,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[31,73,1,0],[32,2,2,0],[32,6,2,0,"_axios"],[32,12,2,0],[32,15,2,0,"require"],[32,22,2,0],[32,23,2,0,"_dependencyMap"],[32,37,2,0],[33,2,2,0],[33,6,2,0,"axios"],[33,11,2,0],[33,14,2,0,"_interopDefault"],[33,29,2,0],[33,30,2,0,"_axios"],[33,36,2,0],[34,2,4,0],[34,8,4,6,"API_BASE"],[34,16,4,14],[34,19,4,17],[34,71,4,69],[35,2,5,0],[35,8,5,6,"CACHE_KEY"],[35,17,5,15],[35,20,5,18],[35,37,5,35],[36,2,6,0],[36,8,6,6,"CACHE_EXPIRY_KEY"],[36,24,6,22],[36,27,6,25],[36,51,6,49],[37,2,7,0],[37,8,7,6,"CACHE_DURATION"],[37,22,7,20],[37,25,7,23],[37,27,7,25],[37,30,7,28],[37,32,7,30],[37,35,7,33],[37,37,7,35],[37,40,7,38],[37,44,7,42],[37,45,7,43],[37,46,7,44],[39,2,21,7],[39,8,21,13,"fetchLogosFromAPI"],[39,25,21,30],[39,28,21,33],[39,34,21,33,"fetchLogosFromAPI"],[39,35,21,33],[39,40,21,69],[40,4,22,2],[40,8,22,6],[41,6,23,4],[41,12,23,10,"response"],[41,20,23,18],[41,23,23,21],[41,29,23,27,"axios"],[41,34,23,32],[41,35,23,32,"default"],[41,42,23,32],[41,43,23,33,"get"],[41,46,23,36],[41,47,23,37],[41,50,23,40,"API_BASE"],[41,58,23,48],[41,73,23,63],[41,74,23,64],[42,6,25,4],[42,10,25,8,"response"],[42,18,25,16],[42,19,25,17,"data"],[42,23,25,21],[42,25,25,23,"status"],[42,31,25,29],[42,36,25,34],[42,45,25,43],[42,49,25,47,"response"],[42,57,25,55],[42,58,25,56,"data"],[42,62,25,60],[42,64,25,62,"data"],[42,68,25,66],[42,70,25,68],[43,8,26,6],[43,15,26,13],[44,10,27,8,"logo_light_bg"],[44,23,27,21],[44,25,27,23,"response"],[44,33,27,31],[44,34,27,32,"data"],[44,38,27,36],[44,39,27,37,"data"],[44,43,27,41],[44,44,27,42,"logo_light_bg"],[44,57,27,55],[44,61,27,59],[44,65,27,63],[45,10,28,8,"logo_dark_bg"],[45,22,28,20],[45,24,28,22,"response"],[45,32,28,30],[45,33,28,31,"data"],[45,37,28,35],[45,38,28,36,"data"],[45,42,28,40],[45,43,28,41,"logo_dark_bg"],[45,55,28,53],[45,59,28,57],[45,63,28,61],[46,10,29,8,"logo_footer"],[46,21,29,19],[46,23,29,21,"response"],[46,31,29,29],[46,32,29,30,"data"],[46,36,29,34],[46,37,29,35,"data"],[46,41,29,39],[46,42,29,40,"logo_footer"],[46,53,29,51],[46,57,29,55],[46,61,29,59],[47,10,30,8,"logo_colored_bg"],[47,25,30,23],[47,27,30,25,"response"],[47,35,30,33],[47,36,30,34,"data"],[47,40,30,38],[47,41,30,39,"data"],[47,45,30,43],[47,46,30,44,"logo_colored_bg"],[47,61,30,59],[47,65,30,63],[48,8,31,6],[48,9,31,7],[49,6,32,4],[50,6,34,4],[50,12,34,10],[50,16,34,14,"Error"],[50,21,34,19],[50,22,34,20],[50,44,34,42],[50,45,34,43],[51,4,35,2],[51,5,35,3],[51,6,35,4],[51,13,35,11,"error"],[51,18,35,16],[51,20,35,18],[52,6,36,4,"console"],[52,13,36,11],[52,14,36,12,"error"],[52,19,36,17],[52,20,36,18],[52,52,36,50],[52,54,36,52,"error"],[52,59,36,57],[52,60,36,58],[53,6,37,4],[53,12,37,10,"error"],[53,17,37,15],[54,4,38,2],[55,2,39,0],[55,3,39,1],[56,2,41,7],[56,8,41,13,"fetchLogosWithCache"],[56,27,41,32],[56,30,41,35],[56,36,41,35,"fetchLogosWithCache"],[56,37,41,35],[56,42,41,71],[57,4,42,2],[57,8,42,6],[58,6,43,4],[59,6,44,4],[59,12,44,10,"cachedData"],[59,22,44,20],[59,25,44,23],[59,31,44,29,"AsyncStorage"],[59,43,44,41],[59,44,44,41,"default"],[59,51,44,41],[59,52,44,42,"getItem"],[59,59,44,49],[59,60,44,50,"CACHE_KEY"],[59,69,44,59],[59,70,44,60],[60,6,45,4],[60,12,45,10,"cacheExpiry"],[60,23,45,21],[60,26,45,24],[60,32,45,30,"AsyncStorage"],[60,44,45,42],[60,45,45,42,"default"],[60,52,45,42],[60,53,45,43,"getItem"],[60,60,45,50],[60,61,45,51,"CACHE_EXPIRY_KEY"],[60,77,45,67],[60,78,45,68],[61,6,47,4],[61,10,47,8,"cachedData"],[61,20,47,18],[61,24,47,22,"cacheExpiry"],[61,35,47,33],[61,37,47,35],[62,8,48,6],[62,14,48,12,"expiry"],[62,20,48,18],[62,23,48,21,"parseInt"],[62,31,48,29],[62,32,48,30,"cacheExpiry"],[62,43,48,41],[62,45,48,43],[62,47,48,45],[62,48,48,46],[63,8,49,6],[63,14,49,12,"now"],[63,17,49,15],[63,20,49,18,"Date"],[63,24,49,22],[63,25,49,23,"now"],[63,28,49,26],[63,29,49,27],[63,30,49,28],[65,8,51,6],[66,8,52,6],[66,12,52,10,"now"],[66,15,52,13],[66,18,52,16,"expiry"],[66,24,52,22],[66,26,52,24],[67,10,53,8,"console"],[67,17,53,15],[67,18,53,16,"log"],[67,21,53,19],[67,22,53,20],[67,44,53,42],[67,45,53,43],[68,10,54,8],[68,17,54,15,"JSON"],[68,21,54,19],[68,22,54,20,"parse"],[68,27,54,25],[68,28,54,26,"cachedData"],[68,38,54,36],[68,39,54,37],[69,8,55,6],[70,6,56,4],[72,6,58,4],[73,6,59,4,"console"],[73,13,59,11],[73,14,59,12,"log"],[73,17,59,15],[73,18,59,16],[73,49,59,47],[73,50,59,48],[74,6,60,4],[74,12,60,10,"logos"],[74,17,60,15],[74,20,60,18],[74,26,60,24,"fetchLogosFromAPI"],[74,43,60,41],[74,44,60,42],[74,45,60,43],[76,6,62,4],[77,6,63,4],[77,12,63,10,"AsyncStorage"],[77,24,63,22],[77,25,63,22,"default"],[77,32,63,22],[77,33,63,23,"setItem"],[77,40,63,30],[77,41,63,31,"CACHE_KEY"],[77,50,63,40],[77,52,63,42,"JSON"],[77,56,63,46],[77,57,63,47,"stringify"],[77,66,63,56],[77,67,63,57,"logos"],[77,72,63,62],[77,73,63,63],[77,74,63,64],[78,6,64,4],[78,12,64,10,"AsyncStorage"],[78,24,64,22],[78,25,64,22,"default"],[78,32,64,22],[78,33,64,23,"setItem"],[78,40,64,30],[78,41,64,31,"CACHE_EXPIRY_KEY"],[78,57,64,47],[78,59,64,49],[78,60,64,50,"Date"],[78,64,64,54],[78,65,64,55,"now"],[78,68,64,58],[78,69,64,59],[78,70,64,60],[78,73,64,63,"CACHE_DURATION"],[78,87,64,77],[78,89,64,79,"toString"],[78,97,64,87],[78,98,64,88],[78,99,64,89],[78,100,64,90],[79,6,66,4,"console"],[79,13,66,11],[79,14,66,12,"log"],[79,17,66,15],[79,18,66,16],[79,46,66,44],[79,47,66,45],[80,6,67,4],[80,13,67,11,"logos"],[80,18,67,16],[81,4,68,2],[81,5,68,3],[81,6,68,4],[81,13,68,11,"error"],[81,18,68,16],[81,20,68,18],[82,6,69,4,"console"],[82,13,69,11],[82,14,69,12,"error"],[82,19,69,17],[82,20,69,18],[82,51,69,49],[82,53,69,51,"error"],[82,58,69,56],[82,59,69,57],[84,6,71,4],[85,6,72,4],[85,12,72,10,"cachedData"],[85,22,72,20],[85,25,72,23],[85,31,72,29,"AsyncStorage"],[85,43,72,41],[85,44,72,41,"default"],[85,51,72,41],[85,52,72,42,"getItem"],[85,59,72,49],[85,60,72,50,"CACHE_KEY"],[85,69,72,59],[85,70,72,60],[86,6,73,4],[86,10,73,8,"cachedData"],[86,20,73,18],[86,22,73,20],[87,8,74,6,"console"],[87,15,74,13],[87,16,74,14,"log"],[87,19,74,17],[87,20,74,18],[87,54,74,52],[87,55,74,53],[88,8,75,6],[88,15,75,13,"JSON"],[88,19,75,17],[88,20,75,18,"parse"],[88,25,75,23],[88,26,75,24,"cachedData"],[88,36,75,34],[88,37,75,35],[89,6,76,4],[91,6,78,4],[92,6,79,4],[92,13,79,11],[93,8,80,6,"logo_light_bg"],[93,21,80,19],[93,23,80,21],[93,27,80,25],[94,8,81,6,"logo_dark_bg"],[94,20,81,18],[94,22,81,20],[94,26,81,24],[95,8,82,6,"logo_footer"],[95,19,82,17],[95,21,82,19],[95,25,82,23],[96,8,83,6,"logo_colored_bg"],[96,23,83,21],[96,25,83,23],[97,6,84,4],[97,7,84,5],[98,4,85,2],[99,2,86,0],[99,3,86,1],[100,2,88,7],[100,8,88,13,"clearLogosCache"],[100,23,88,28],[100,26,88,31],[100,32,88,31,"clearLogosCache"],[100,33,88,31],[100,38,88,58],[101,4,89,2],[101,10,89,8,"AsyncStorage"],[101,22,89,20],[101,23,89,20,"default"],[101,30,89,20],[101,31,89,21,"removeItem"],[101,41,89,31],[101,42,89,32,"CACHE_KEY"],[101,51,89,41],[101,52,89,42],[102,4,90,2],[102,10,90,8,"AsyncStorage"],[102,22,90,20],[102,23,90,20,"default"],[102,30,90,20],[102,31,90,21,"removeItem"],[102,41,90,31],[102,42,90,32,"CACHE_EXPIRY_KEY"],[102,58,90,48],[102,59,90,49],[103,4,91,2,"console"],[103,11,91,9],[103,12,91,10,"log"],[103,15,91,13],[103,16,91,14],[103,41,91,39],[103,42,91,40],[104,2,92,0],[104,3,92,1],[105,0,92,2],[105,3]],"functionMap":{"names":["<global>","fetchLogosFromAPI","fetchLogosWithCache","clearLogosCache"],"mappings":"AAA;iCCoB;CDkB;mCEE;CF6C;+BGE;CHI"},"hasCjsExports":false},"type":"js/module"}]}