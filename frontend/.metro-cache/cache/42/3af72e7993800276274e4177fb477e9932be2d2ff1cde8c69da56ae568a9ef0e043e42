{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":26,"index":96}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../backend-config.json","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":51,"index":148}}],"key":"Yg9oI/i39ksdVhZMppaxMFSSHg8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"fetchLogosFromAPI\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosFromAPI;\n    }\n  });\n  Object.defineProperty(exports, \"fetchLogosWithCache\", {\n    enumerable: true,\n    get: function () {\n      return fetchLogosWithCache;\n    }\n  });\n  Object.defineProperty(exports, \"clearLogosCache\", {\n    enumerable: true,\n    get: function () {\n      return clearLogosCache;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _backendConfigJson = require(_dependencyMap[2], \"../backend-config.json\");\n  var backendConfig = _interopDefault(_backendConfigJson);\n  const API_BASE = backendConfig.default.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL || 'https://carmgmt-hub.preview.emergentagent.com';\n  const CACHE_KEY = 'app_logos_cache';\n  const CACHE_EXPIRY_KEY = 'app_logos_cache_expiry';\n  const CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\n  const fetchLogosFromAPI = async () => {\n    try {\n      const response = await axios.default.get(`${API_BASE}/api/settings`);\n      if (response.data?.status === 'success' && response.data?.data) {\n        return {\n          logo_light_bg: response.data.data.logo_light_bg || null,\n          logo_dark_bg: response.data.data.logo_dark_bg || null,\n          logo_footer: response.data.data.logo_footer || null,\n          logo_colored_bg: response.data.data.logo_colored_bg || null\n        };\n      }\n      throw new Error('Invalid API response');\n    } catch (error) {\n      console.error('Error fetching logos from API:', error);\n      throw error;\n    }\n  };\n  const fetchLogosWithCache = async () => {\n    try {\n      // Try to get from cache first\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      const cacheExpiry = await AsyncStorage.default.getItem(CACHE_EXPIRY_KEY);\n      if (cachedData && cacheExpiry) {\n        const expiry = parseInt(cacheExpiry, 10);\n        const now = Date.now();\n\n        // If cache is still valid\n        if (now < expiry) {\n          console.log('‚úÖ Using cached logos');\n          return JSON.parse(cachedData);\n        }\n      }\n\n      // Cache expired or doesn't exist, fetch from API\n      console.log('üîÑ Fetching logos from API...');\n      const logos = await fetchLogosFromAPI();\n\n      // Save to cache\n      await AsyncStorage.default.setItem(CACHE_KEY, JSON.stringify(logos));\n      await AsyncStorage.default.setItem(CACHE_EXPIRY_KEY, (Date.now() + CACHE_DURATION).toString());\n      console.log('‚úÖ Logos fetched and cached');\n      return logos;\n    } catch (error) {\n      console.error('Error in fetchLogosWithCache:', error);\n\n      // Try to return stale cache as fallback\n      const cachedData = await AsyncStorage.default.getItem(CACHE_KEY);\n      if (cachedData) {\n        console.log('‚ö†Ô∏è Using stale cache as fallback');\n        return JSON.parse(cachedData);\n      }\n\n      // Return empty logos if all fails\n      return {\n        logo_light_bg: null,\n        logo_dark_bg: null,\n        logo_footer: null,\n        logo_colored_bg: null\n      };\n    }\n  };\n  const clearLogosCache = async () => {\n    await AsyncStorage.default.removeItem(CACHE_KEY);\n    await AsyncStorage.default.removeItem(CACHE_EXPIRY_KEY);\n    console.log('üóëÔ∏è Logos cache cleared');\n  };\n});","lineCount":107,"map":[[12,2,22,0,"Object"],[12,8,22,0],[12,9,22,0,"defineProperty"],[12,23,22,0],[12,24,22,0,"exports"],[12,31,22,0],[13,4,22,0,"enumerable"],[13,14,22,0],[14,4,22,0,"get"],[14,7,22,0],[14,18,22,0,"get"],[14,19,22,0],[15,6,22,0],[15,13,22,0,"fetchLogosFromAPI"],[15,30,22,0],[16,4,22,0],[17,2,22,0],[18,2,42,0,"Object"],[18,8,42,0],[18,9,42,0,"defineProperty"],[18,23,42,0],[18,24,42,0,"exports"],[18,31,42,0],[19,4,42,0,"enumerable"],[19,14,42,0],[20,4,42,0,"get"],[20,7,42,0],[20,18,42,0,"get"],[20,19,42,0],[21,6,42,0],[21,13,42,0,"fetchLogosWithCache"],[21,32,42,0],[22,4,42,0],[23,2,42,0],[24,2,89,0,"Object"],[24,8,89,0],[24,9,89,0,"defineProperty"],[24,23,89,0],[24,24,89,0,"exports"],[24,31,89,0],[25,4,89,0,"enumerable"],[25,14,89,0],[26,4,89,0,"get"],[26,7,89,0],[26,18,89,0,"get"],[26,19,89,0],[27,6,89,0],[27,13,89,0,"clearLogosCache"],[27,28,89,0],[28,4,89,0],[29,2,89,0],[30,2,1,0],[30,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[30,42,1,0],[30,45,1,0,"require"],[30,52,1,0],[30,53,1,0,"_dependencyMap"],[30,67,1,0],[31,2,1,0],[31,6,1,0,"AsyncStorage"],[31,18,1,0],[31,21,1,0,"_interopDefault"],[31,36,1,0],[31,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[31,73,1,0],[32,2,2,0],[32,6,2,0,"_axios"],[32,12,2,0],[32,15,2,0,"require"],[32,22,2,0],[32,23,2,0,"_dependencyMap"],[32,37,2,0],[33,2,2,0],[33,6,2,0,"axios"],[33,11,2,0],[33,14,2,0,"_interopDefault"],[33,29,2,0],[33,30,2,0,"_axios"],[33,36,2,0],[34,2,3,0],[34,6,3,0,"_backendConfigJson"],[34,24,3,0],[34,27,3,0,"require"],[34,34,3,0],[34,35,3,0,"_dependencyMap"],[34,49,3,0],[35,2,3,0],[35,6,3,0,"backendConfig"],[35,19,3,0],[35,22,3,0,"_interopDefault"],[35,37,3,0],[35,38,3,0,"_backendConfigJson"],[35,56,3,0],[36,2,5,0],[36,8,5,6,"API_BASE"],[36,16,5,14],[36,19,5,17,"backendConfig"],[36,32,5,30],[36,33,5,30,"default"],[36,40,5,30],[36,41,5,31,"backendUrl"],[36,51,5,41],[36,55,5,45,"process"],[36,62,5,52],[36,63,5,53,"env"],[36,66,5,56],[36,67,5,57,"EXPO_PUBLIC_BACKEND_URL"],[36,90,5,80],[36,94,5,84],[36,141,5,131],[37,2,6,0],[37,8,6,6,"CACHE_KEY"],[37,17,6,15],[37,20,6,18],[37,37,6,35],[38,2,7,0],[38,8,7,6,"CACHE_EXPIRY_KEY"],[38,24,7,22],[38,27,7,25],[38,51,7,49],[39,2,8,0],[39,8,8,6,"CACHE_DURATION"],[39,22,8,20],[39,25,8,23],[39,27,8,25],[39,30,8,28],[39,32,8,30],[39,35,8,33],[39,37,8,35],[39,40,8,38],[39,44,8,42],[39,45,8,43],[39,46,8,44],[41,2,22,7],[41,8,22,13,"fetchLogosFromAPI"],[41,25,22,30],[41,28,22,33],[41,34,22,33,"fetchLogosFromAPI"],[41,35,22,33],[41,40,22,69],[42,4,23,2],[42,8,23,6],[43,6,24,4],[43,12,24,10,"response"],[43,20,24,18],[43,23,24,21],[43,29,24,27,"axios"],[43,34,24,32],[43,35,24,32,"default"],[43,42,24,32],[43,43,24,33,"get"],[43,46,24,36],[43,47,24,37],[43,50,24,40,"API_BASE"],[43,58,24,48],[43,73,24,63],[43,74,24,64],[44,6,26,4],[44,10,26,8,"response"],[44,18,26,16],[44,19,26,17,"data"],[44,23,26,21],[44,25,26,23,"status"],[44,31,26,29],[44,36,26,34],[44,45,26,43],[44,49,26,47,"response"],[44,57,26,55],[44,58,26,56,"data"],[44,62,26,60],[44,64,26,62,"data"],[44,68,26,66],[44,70,26,68],[45,8,27,6],[45,15,27,13],[46,10,28,8,"logo_light_bg"],[46,23,28,21],[46,25,28,23,"response"],[46,33,28,31],[46,34,28,32,"data"],[46,38,28,36],[46,39,28,37,"data"],[46,43,28,41],[46,44,28,42,"logo_light_bg"],[46,57,28,55],[46,61,28,59],[46,65,28,63],[47,10,29,8,"logo_dark_bg"],[47,22,29,20],[47,24,29,22,"response"],[47,32,29,30],[47,33,29,31,"data"],[47,37,29,35],[47,38,29,36,"data"],[47,42,29,40],[47,43,29,41,"logo_dark_bg"],[47,55,29,53],[47,59,29,57],[47,63,29,61],[48,10,30,8,"logo_footer"],[48,21,30,19],[48,23,30,21,"response"],[48,31,30,29],[48,32,30,30,"data"],[48,36,30,34],[48,37,30,35,"data"],[48,41,30,39],[48,42,30,40,"logo_footer"],[48,53,30,51],[48,57,30,55],[48,61,30,59],[49,10,31,8,"logo_colored_bg"],[49,25,31,23],[49,27,31,25,"response"],[49,35,31,33],[49,36,31,34,"data"],[49,40,31,38],[49,41,31,39,"data"],[49,45,31,43],[49,46,31,44,"logo_colored_bg"],[49,61,31,59],[49,65,31,63],[50,8,32,6],[50,9,32,7],[51,6,33,4],[52,6,35,4],[52,12,35,10],[52,16,35,14,"Error"],[52,21,35,19],[52,22,35,20],[52,44,35,42],[52,45,35,43],[53,4,36,2],[53,5,36,3],[53,6,36,4],[53,13,36,11,"error"],[53,18,36,16],[53,20,36,18],[54,6,37,4,"console"],[54,13,37,11],[54,14,37,12,"error"],[54,19,37,17],[54,20,37,18],[54,52,37,50],[54,54,37,52,"error"],[54,59,37,57],[54,60,37,58],[55,6,38,4],[55,12,38,10,"error"],[55,17,38,15],[56,4,39,2],[57,2,40,0],[57,3,40,1],[58,2,42,7],[58,8,42,13,"fetchLogosWithCache"],[58,27,42,32],[58,30,42,35],[58,36,42,35,"fetchLogosWithCache"],[58,37,42,35],[58,42,42,71],[59,4,43,2],[59,8,43,6],[60,6,44,4],[61,6,45,4],[61,12,45,10,"cachedData"],[61,22,45,20],[61,25,45,23],[61,31,45,29,"AsyncStorage"],[61,43,45,41],[61,44,45,41,"default"],[61,51,45,41],[61,52,45,42,"getItem"],[61,59,45,49],[61,60,45,50,"CACHE_KEY"],[61,69,45,59],[61,70,45,60],[62,6,46,4],[62,12,46,10,"cacheExpiry"],[62,23,46,21],[62,26,46,24],[62,32,46,30,"AsyncStorage"],[62,44,46,42],[62,45,46,42,"default"],[62,52,46,42],[62,53,46,43,"getItem"],[62,60,46,50],[62,61,46,51,"CACHE_EXPIRY_KEY"],[62,77,46,67],[62,78,46,68],[63,6,48,4],[63,10,48,8,"cachedData"],[63,20,48,18],[63,24,48,22,"cacheExpiry"],[63,35,48,33],[63,37,48,35],[64,8,49,6],[64,14,49,12,"expiry"],[64,20,49,18],[64,23,49,21,"parseInt"],[64,31,49,29],[64,32,49,30,"cacheExpiry"],[64,43,49,41],[64,45,49,43],[64,47,49,45],[64,48,49,46],[65,8,50,6],[65,14,50,12,"now"],[65,17,50,15],[65,20,50,18,"Date"],[65,24,50,22],[65,25,50,23,"now"],[65,28,50,26],[65,29,50,27],[65,30,50,28],[67,8,52,6],[68,8,53,6],[68,12,53,10,"now"],[68,15,53,13],[68,18,53,16,"expiry"],[68,24,53,22],[68,26,53,24],[69,10,54,8,"console"],[69,17,54,15],[69,18,54,16,"log"],[69,21,54,19],[69,22,54,20],[69,44,54,42],[69,45,54,43],[70,10,55,8],[70,17,55,15,"JSON"],[70,21,55,19],[70,22,55,20,"parse"],[70,27,55,25],[70,28,55,26,"cachedData"],[70,38,55,36],[70,39,55,37],[71,8,56,6],[72,6,57,4],[74,6,59,4],[75,6,60,4,"console"],[75,13,60,11],[75,14,60,12,"log"],[75,17,60,15],[75,18,60,16],[75,49,60,47],[75,50,60,48],[76,6,61,4],[76,12,61,10,"logos"],[76,17,61,15],[76,20,61,18],[76,26,61,24,"fetchLogosFromAPI"],[76,43,61,41],[76,44,61,42],[76,45,61,43],[78,6,63,4],[79,6,64,4],[79,12,64,10,"AsyncStorage"],[79,24,64,22],[79,25,64,22,"default"],[79,32,64,22],[79,33,64,23,"setItem"],[79,40,64,30],[79,41,64,31,"CACHE_KEY"],[79,50,64,40],[79,52,64,42,"JSON"],[79,56,64,46],[79,57,64,47,"stringify"],[79,66,64,56],[79,67,64,57,"logos"],[79,72,64,62],[79,73,64,63],[79,74,64,64],[80,6,65,4],[80,12,65,10,"AsyncStorage"],[80,24,65,22],[80,25,65,22,"default"],[80,32,65,22],[80,33,65,23,"setItem"],[80,40,65,30],[80,41,65,31,"CACHE_EXPIRY_KEY"],[80,57,65,47],[80,59,65,49],[80,60,65,50,"Date"],[80,64,65,54],[80,65,65,55,"now"],[80,68,65,58],[80,69,65,59],[80,70,65,60],[80,73,65,63,"CACHE_DURATION"],[80,87,65,77],[80,89,65,79,"toString"],[80,97,65,87],[80,98,65,88],[80,99,65,89],[80,100,65,90],[81,6,67,4,"console"],[81,13,67,11],[81,14,67,12,"log"],[81,17,67,15],[81,18,67,16],[81,46,67,44],[81,47,67,45],[82,6,68,4],[82,13,68,11,"logos"],[82,18,68,16],[83,4,69,2],[83,5,69,3],[83,6,69,4],[83,13,69,11,"error"],[83,18,69,16],[83,20,69,18],[84,6,70,4,"console"],[84,13,70,11],[84,14,70,12,"error"],[84,19,70,17],[84,20,70,18],[84,51,70,49],[84,53,70,51,"error"],[84,58,70,56],[84,59,70,57],[86,6,72,4],[87,6,73,4],[87,12,73,10,"cachedData"],[87,22,73,20],[87,25,73,23],[87,31,73,29,"AsyncStorage"],[87,43,73,41],[87,44,73,41,"default"],[87,51,73,41],[87,52,73,42,"getItem"],[87,59,73,49],[87,60,73,50,"CACHE_KEY"],[87,69,73,59],[87,70,73,60],[88,6,74,4],[88,10,74,8,"cachedData"],[88,20,74,18],[88,22,74,20],[89,8,75,6,"console"],[89,15,75,13],[89,16,75,14,"log"],[89,19,75,17],[89,20,75,18],[89,54,75,52],[89,55,75,53],[90,8,76,6],[90,15,76,13,"JSON"],[90,19,76,17],[90,20,76,18,"parse"],[90,25,76,23],[90,26,76,24,"cachedData"],[90,36,76,34],[90,37,76,35],[91,6,77,4],[93,6,79,4],[94,6,80,4],[94,13,80,11],[95,8,81,6,"logo_light_bg"],[95,21,81,19],[95,23,81,21],[95,27,81,25],[96,8,82,6,"logo_dark_bg"],[96,20,82,18],[96,22,82,20],[96,26,82,24],[97,8,83,6,"logo_footer"],[97,19,83,17],[97,21,83,19],[97,25,83,23],[98,8,84,6,"logo_colored_bg"],[98,23,84,21],[98,25,84,23],[99,6,85,4],[99,7,85,5],[100,4,86,2],[101,2,87,0],[101,3,87,1],[102,2,89,7],[102,8,89,13,"clearLogosCache"],[102,23,89,28],[102,26,89,31],[102,32,89,31,"clearLogosCache"],[102,33,89,31],[102,38,89,58],[103,4,90,2],[103,10,90,8,"AsyncStorage"],[103,22,90,20],[103,23,90,20,"default"],[103,30,90,20],[103,31,90,21,"removeItem"],[103,41,90,31],[103,42,90,32,"CACHE_KEY"],[103,51,90,41],[103,52,90,42],[104,4,91,2],[104,10,91,8,"AsyncStorage"],[104,22,91,20],[104,23,91,20,"default"],[104,30,91,20],[104,31,91,21,"removeItem"],[104,41,91,31],[104,42,91,32,"CACHE_EXPIRY_KEY"],[104,58,91,48],[104,59,91,49],[105,4,92,2,"console"],[105,11,92,9],[105,12,92,10,"log"],[105,15,92,13],[105,16,92,14],[105,41,92,39],[105,42,92,40],[106,2,93,0],[106,3,93,1],[107,0,93,2],[107,3]],"functionMap":{"names":["<global>","fetchLogosFromAPI","fetchLogosWithCache","clearLogosCache"],"mappings":"AAA;iCCqB;CDkB;mCEE;CF6C;+BGE;CHI"},"hasCjsExports":false},"type":"js/module"}]}