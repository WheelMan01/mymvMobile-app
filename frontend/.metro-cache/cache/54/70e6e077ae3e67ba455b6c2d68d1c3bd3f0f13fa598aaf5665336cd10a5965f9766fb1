{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const API_URL = 'https://photo-showroom.preview.emergentagent.com';\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":85,"map":[[27,2,59,0,"Object"],[27,8,59,0],[27,9,59,0,"defineProperty"],[27,23,59,0],[27,24,59,0,"exports"],[27,31,59,0],[28,4,59,0,"enumerable"],[28,14,59,0],[29,4,59,0,"get"],[29,7,59,0],[29,18,59,0,"get"],[29,19,59,0],[30,6,59,0],[30,13,59,0,"_default"],[30,21,59,0],[31,4,59,0],[32,2,59,0],[33,2,1,0],[33,6,1,0,"_axios"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"axios"],[34,11,1,0],[34,14,1,0,"_interopDefault"],[34,29,1,0],[34,30,1,0,"_axios"],[34,36,1,0],[35,2,2,0],[35,6,2,0,"_expoSecureStore"],[35,22,2,0],[35,25,2,0,"require"],[35,32,2,0],[35,33,2,0,"_dependencyMap"],[35,47,2,0],[36,2,2,0],[36,6,2,0,"SecureStore"],[36,17,2,0],[36,20,2,0,"_interopNamespace"],[36,37,2,0],[36,38,2,0,"_expoSecureStore"],[36,54,2,0],[37,2,2,49],[37,6,2,49,"_reactNativeWebDistExportsPlatform"],[37,40,2,49],[37,43,2,49,"require"],[37,50,2,49],[37,51,2,49,"_dependencyMap"],[37,65,2,49],[38,2,2,49],[38,6,2,49,"Platform"],[38,14,2,49],[38,17,2,49,"_interopDefault"],[38,32,2,49],[38,33,2,49,"_reactNativeWebDistExportsPlatform"],[38,67,2,49],[39,2,5,0],[39,8,5,6,"API_URL"],[39,15,5,13],[39,18,5,16],[39,72,5,70],[41,2,7,0],[42,2,8,0],[42,8,8,6,"getStorageItem"],[42,22,8,20],[42,25,8,23],[42,31,8,30,"key"],[42,34,8,41],[42,38,8,46],[43,4,9,2],[43,8,9,6,"Platform"],[43,16,9,14],[43,17,9,14,"default"],[43,24,9,14],[43,25,9,15,"OS"],[43,27,9,17],[43,32,9,22],[43,37,9,27],[43,39,9,29],[44,6,10,4],[44,13,10,11,"localStorage"],[44,25,10,23],[44,26,10,24,"getItem"],[44,33,10,31],[44,34,10,32,"key"],[44,37,10,35],[44,38,10,36],[45,4,11,2],[45,5,11,3],[45,11,11,9],[46,6,12,4],[46,13,12,11],[46,19,12,17,"SecureStore"],[46,30,12,28],[46,31,12,29,"getItemAsync"],[46,43,12,41],[46,44,12,42,"key"],[46,47,12,45],[46,48,12,46],[47,4,13,2],[48,2,14,0],[48,3,14,1],[49,2,16,0],[49,8,16,6,"deleteStorageItem"],[49,25,16,23],[49,28,16,26],[49,34,16,33,"key"],[49,37,16,44],[49,41,16,49],[50,4,17,2],[50,8,17,6,"Platform"],[50,16,17,14],[50,17,17,14,"default"],[50,24,17,14],[50,25,17,15,"OS"],[50,27,17,17],[50,32,17,22],[50,37,17,27],[50,39,17,29],[51,6,18,4,"localStorage"],[51,18,18,16],[51,19,18,17,"removeItem"],[51,29,18,27],[51,30,18,28,"key"],[51,33,18,31],[51,34,18,32],[52,4,19,2],[52,5,19,3],[52,11,19,9],[53,6,20,4],[53,12,20,10,"SecureStore"],[53,23,20,21],[53,24,20,22,"deleteItemAsync"],[53,39,20,37],[53,40,20,38,"key"],[53,43,20,41],[53,44,20,42],[54,4,21,2],[55,2,22,0],[55,3,22,1],[56,2,24,0],[56,8,24,6,"api"],[56,11,24,9],[56,14,24,12,"axios"],[56,19,24,17],[56,20,24,17,"default"],[56,27,24,17],[56,28,24,18,"create"],[56,34,24,24],[56,35,24,25],[57,4,25,2,"baseURL"],[57,11,25,9],[57,13,25,11],[57,16,25,14,"API_URL"],[57,23,25,21],[57,29,25,27],[58,4,26,2,"timeout"],[58,11,26,9],[58,13,26,11],[58,18,26,16],[59,4,27,2,"headers"],[59,11,27,9],[59,13,27,11],[60,6,28,4],[60,20,28,18],[60,22,28,20],[61,4,29,2],[62,2,30,0],[62,3,30,1],[62,4,30,2],[64,2,32,0],[65,2,33,0,"api"],[65,5,33,3],[65,6,33,4,"interceptors"],[65,18,33,16],[65,19,33,17,"request"],[65,26,33,24],[65,27,33,25,"use"],[65,30,33,28],[65,31,34,2],[65,37,34,9,"config"],[65,43,34,15],[65,47,34,20],[66,4,35,4],[66,10,35,10,"token"],[66,15,35,15],[66,18,35,18],[66,24,35,24,"getStorageItem"],[66,38,35,38],[66,39,35,39],[66,51,35,51],[66,52,35,52],[67,4,36,4],[67,8,36,8,"token"],[67,13,36,13],[67,15,36,15],[68,6,37,6,"config"],[68,12,37,12],[68,13,37,13,"headers"],[68,20,37,20],[68,21,37,21,"Authorization"],[68,34,37,34],[68,37,37,37],[68,47,37,47,"token"],[68,52,37,52],[68,54,37,54],[69,4,38,4],[70,4,39,4],[70,11,39,11,"config"],[70,17,39,17],[71,2,40,2],[71,3,40,3],[71,5,41,3,"error"],[71,10,41,8],[71,14,41,13],[72,4,42,4],[72,11,42,11,"Promise"],[72,18,42,18],[72,19,42,19,"reject"],[72,25,42,25],[72,26,42,26,"error"],[72,31,42,31],[72,32,42,32],[73,2,43,2],[73,3,44,0],[73,4,44,1],[75,2,46,0],[76,2,47,0,"api"],[76,5,47,3],[76,6,47,4,"interceptors"],[76,18,47,16],[76,19,47,17,"response"],[76,27,47,25],[76,28,47,26,"use"],[76,31,47,29],[76,32,48,3,"response"],[76,40,48,11],[76,44,48,16,"response"],[76,52,48,24],[76,54,49,3,"error"],[76,59,49,8],[76,63,49,13],[77,4,50,4],[77,8,50,8,"error"],[77,13,50,13],[77,14,50,14,"response"],[77,22,50,22],[77,24,50,24,"status"],[77,30,50,30],[77,35,50,35],[77,38,50,38],[77,40,50,40],[78,6,51,6],[79,6,52,6,"deleteStorageItem"],[79,23,52,23],[79,24,52,24],[79,36,52,36],[79,37,52,37],[80,6,53,6,"deleteStorageItem"],[80,23,53,23],[80,24,53,24],[80,35,53,35],[80,36,53,36],[81,4,54,4],[82,4,55,4],[82,11,55,11,"Promise"],[82,18,55,18],[82,19,55,19,"reject"],[82,25,55,25],[82,26,55,26,"error"],[82,31,55,31],[82,32,55,32],[83,2,56,2],[83,3,57,0],[83,4,57,1],[84,2,59,0],[84,6,59,0,"_default"],[84,14,59,0],[84,17,59,15,"api"],[84,20,59,18],[85,0,59,19],[85,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCO;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}