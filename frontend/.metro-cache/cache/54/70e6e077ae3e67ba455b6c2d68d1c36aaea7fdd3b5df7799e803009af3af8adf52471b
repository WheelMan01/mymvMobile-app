{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"API_URL\", {\n    enumerable: true,\n    get: function () {\n      return API_URL;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const API_URL = 'https://app-bridge-api.preview.emergentagent.com';\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":91,"map":[[27,2,59,0,"Object"],[27,8,59,0],[27,9,59,0,"defineProperty"],[27,23,59,0],[27,24,59,0,"exports"],[27,31,59,0],[28,4,59,0,"enumerable"],[28,14,59,0],[29,4,59,0,"get"],[29,7,59,0],[29,18,59,0,"get"],[29,19,59,0],[30,6,59,0],[30,13,59,0,"_default"],[30,21,59,0],[31,4,59,0],[32,2,59,0],[33,2,5,0,"Object"],[33,8,5,0],[33,9,5,0,"defineProperty"],[33,23,5,0],[33,24,5,0,"exports"],[33,31,5,0],[34,4,5,0,"enumerable"],[34,14,5,0],[35,4,5,0,"get"],[35,7,5,0],[35,18,5,0,"get"],[35,19,5,0],[36,6,5,0],[36,13,5,0,"API_URL"],[36,20,5,0],[37,4,5,0],[38,2,5,0],[39,2,1,0],[39,6,1,0,"_axios"],[39,12,1,0],[39,15,1,0,"require"],[39,22,1,0],[39,23,1,0,"_dependencyMap"],[39,37,1,0],[40,2,1,0],[40,6,1,0,"axios"],[40,11,1,0],[40,14,1,0,"_interopDefault"],[40,29,1,0],[40,30,1,0,"_axios"],[40,36,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,2,49],[43,6,2,49,"_reactNativeWebDistExportsPlatform"],[43,40,2,49],[43,43,2,49,"require"],[43,50,2,49],[43,51,2,49,"_dependencyMap"],[43,65,2,49],[44,2,2,49],[44,6,2,49,"Platform"],[44,14,2,49],[44,17,2,49,"_interopDefault"],[44,32,2,49],[44,33,2,49,"_reactNativeWebDistExportsPlatform"],[44,67,2,49],[45,2,5,7],[45,8,5,13,"API_URL"],[45,15,5,20],[45,18,5,23],[45,68,5,73],[47,2,7,0],[48,2,8,0],[48,8,8,6,"getStorageItem"],[48,22,8,20],[48,25,8,23],[48,31,8,30,"key"],[48,34,8,41],[48,38,8,46],[49,4,9,2],[49,8,9,6,"Platform"],[49,16,9,14],[49,17,9,14,"default"],[49,24,9,14],[49,25,9,15,"OS"],[49,27,9,17],[49,32,9,22],[49,37,9,27],[49,39,9,29],[50,6,10,4],[50,13,10,11,"localStorage"],[50,25,10,23],[50,26,10,24,"getItem"],[50,33,10,31],[50,34,10,32,"key"],[50,37,10,35],[50,38,10,36],[51,4,11,2],[51,5,11,3],[51,11,11,9],[52,6,12,4],[52,13,12,11],[52,19,12,17,"SecureStore"],[52,30,12,28],[52,31,12,29,"getItemAsync"],[52,43,12,41],[52,44,12,42,"key"],[52,47,12,45],[52,48,12,46],[53,4,13,2],[54,2,14,0],[54,3,14,1],[55,2,16,0],[55,8,16,6,"deleteStorageItem"],[55,25,16,23],[55,28,16,26],[55,34,16,33,"key"],[55,37,16,44],[55,41,16,49],[56,4,17,2],[56,8,17,6,"Platform"],[56,16,17,14],[56,17,17,14,"default"],[56,24,17,14],[56,25,17,15,"OS"],[56,27,17,17],[56,32,17,22],[56,37,17,27],[56,39,17,29],[57,6,18,4,"localStorage"],[57,18,18,16],[57,19,18,17,"removeItem"],[57,29,18,27],[57,30,18,28,"key"],[57,33,18,31],[57,34,18,32],[58,4,19,2],[58,5,19,3],[58,11,19,9],[59,6,20,4],[59,12,20,10,"SecureStore"],[59,23,20,21],[59,24,20,22,"deleteItemAsync"],[59,39,20,37],[59,40,20,38,"key"],[59,43,20,41],[59,44,20,42],[60,4,21,2],[61,2,22,0],[61,3,22,1],[62,2,24,0],[62,8,24,6,"api"],[62,11,24,9],[62,14,24,12,"axios"],[62,19,24,17],[62,20,24,17,"default"],[62,27,24,17],[62,28,24,18,"create"],[62,34,24,24],[62,35,24,25],[63,4,25,2,"baseURL"],[63,11,25,9],[63,13,25,11],[63,16,25,14,"API_URL"],[63,23,25,21],[63,29,25,27],[64,4,26,2,"timeout"],[64,11,26,9],[64,13,26,11],[64,18,26,16],[65,4,27,2,"headers"],[65,11,27,9],[65,13,27,11],[66,6,28,4],[66,20,28,18],[66,22,28,20],[67,4,29,2],[68,2,30,0],[68,3,30,1],[68,4,30,2],[70,2,32,0],[71,2,33,0,"api"],[71,5,33,3],[71,6,33,4,"interceptors"],[71,18,33,16],[71,19,33,17,"request"],[71,26,33,24],[71,27,33,25,"use"],[71,30,33,28],[71,31,34,2],[71,37,34,9,"config"],[71,43,34,15],[71,47,34,20],[72,4,35,4],[72,10,35,10,"token"],[72,15,35,15],[72,18,35,18],[72,24,35,24,"getStorageItem"],[72,38,35,38],[72,39,35,39],[72,51,35,51],[72,52,35,52],[73,4,36,4],[73,8,36,8,"token"],[73,13,36,13],[73,15,36,15],[74,6,37,6,"config"],[74,12,37,12],[74,13,37,13,"headers"],[74,20,37,20],[74,21,37,21,"Authorization"],[74,34,37,34],[74,37,37,37],[74,47,37,47,"token"],[74,52,37,52],[74,54,37,54],[75,4,38,4],[76,4,39,4],[76,11,39,11,"config"],[76,17,39,17],[77,2,40,2],[77,3,40,3],[77,5,41,3,"error"],[77,10,41,8],[77,14,41,13],[78,4,42,4],[78,11,42,11,"Promise"],[78,18,42,18],[78,19,42,19,"reject"],[78,25,42,25],[78,26,42,26,"error"],[78,31,42,31],[78,32,42,32],[79,2,43,2],[79,3,44,0],[79,4,44,1],[81,2,46,0],[82,2,47,0,"api"],[82,5,47,3],[82,6,47,4,"interceptors"],[82,18,47,16],[82,19,47,17,"response"],[82,27,47,25],[82,28,47,26,"use"],[82,31,47,29],[82,32,48,3,"response"],[82,40,48,11],[82,44,48,16,"response"],[82,52,48,24],[82,54,49,3,"error"],[82,59,49,8],[82,63,49,13],[83,4,50,4],[83,8,50,8,"error"],[83,13,50,13],[83,14,50,14,"response"],[83,22,50,22],[83,24,50,24,"status"],[83,30,50,30],[83,35,50,35],[83,38,50,38],[83,40,50,40],[84,6,51,6],[85,6,52,6,"deleteStorageItem"],[85,23,52,23],[85,24,52,24],[85,36,52,36],[85,37,52,37],[86,6,53,6,"deleteStorageItem"],[86,23,53,23],[86,24,53,24],[86,35,53,35],[86,36,53,36],[87,4,54,4],[88,4,55,4],[88,11,55,11,"Promise"],[88,18,55,18],[88,19,55,19,"reject"],[88,25,55,25],[88,26,55,26,"error"],[88,31,55,31],[88,32,55,32],[89,2,56,2],[89,3,57,0],[89,4,57,1],[90,2,59,0],[90,6,59,0,"_default"],[90,14,59,0],[90,17,59,15,"api"],[90,20,59,18],[91,0,59,19],[91,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCO;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}