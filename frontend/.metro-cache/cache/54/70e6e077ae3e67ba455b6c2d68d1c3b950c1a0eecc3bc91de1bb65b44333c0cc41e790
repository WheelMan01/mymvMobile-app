{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://auto-specs-hub-1.preview.emergentagent.com';\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":86,"map":[[27,2,59,0,"Object"],[27,8,59,0],[27,9,59,0,"defineProperty"],[27,23,59,0],[27,24,59,0,"exports"],[27,31,59,0],[28,4,59,0,"enumerable"],[28,14,59,0],[29,4,59,0,"get"],[29,7,59,0],[29,18,59,0,"get"],[29,19,59,0],[30,6,59,0],[30,13,59,0,"_default"],[30,21,59,0],[31,4,59,0],[32,2,59,0],[33,2,59,19],[33,6,59,19,"_expoVirtualEnv"],[33,21,59,19],[33,24,59,19,"require"],[33,31,59,19],[33,32,59,19,"_dependencyMap"],[33,46,59,19],[34,2,1,0],[34,6,1,0,"_axios"],[34,12,1,0],[34,15,1,0,"require"],[34,22,1,0],[34,23,1,0,"_dependencyMap"],[34,37,1,0],[35,2,1,0],[35,6,1,0,"axios"],[35,11,1,0],[35,14,1,0,"_interopDefault"],[35,29,1,0],[35,30,1,0,"_axios"],[35,36,1,0],[36,2,2,0],[36,6,2,0,"_expoSecureStore"],[36,22,2,0],[36,25,2,0,"require"],[36,32,2,0],[36,33,2,0,"_dependencyMap"],[36,47,2,0],[37,2,2,0],[37,6,2,0,"SecureStore"],[37,17,2,0],[37,20,2,0,"_interopNamespace"],[37,37,2,0],[37,38,2,0,"_expoSecureStore"],[37,54,2,0],[38,2,2,49],[38,6,2,49,"_reactNativeWebDistExportsPlatform"],[38,40,2,49],[38,43,2,49,"require"],[38,50,2,49],[38,51,2,49,"_dependencyMap"],[38,65,2,49],[39,2,2,49],[39,6,2,49,"Platform"],[39,14,2,49],[39,17,2,49,"_interopDefault"],[39,32,2,49],[39,33,2,49,"_reactNativeWebDistExportsPlatform"],[39,67,2,49],[40,2,5,0],[40,8,5,6,"API_URL"],[40,15,5,13],[40,18,5,16,"_expoVirtualEnv"],[40,33,5,16],[40,34,5,16,"env"],[40,37,5,16],[40,38,5,16,"EXPO_PUBLIC_BACKEND_URL"],[40,61,5,16],[40,65,5,55],[40,117,5,107],[42,2,7,0],[43,2,8,0],[43,8,8,6,"getStorageItem"],[43,22,8,20],[43,25,8,23],[43,31,8,30,"key"],[43,34,8,41],[43,38,8,46],[44,4,9,2],[44,8,9,6,"Platform"],[44,16,9,14],[44,17,9,14,"default"],[44,24,9,14],[44,25,9,15,"OS"],[44,27,9,17],[44,32,9,22],[44,37,9,27],[44,39,9,29],[45,6,10,4],[45,13,10,11,"localStorage"],[45,25,10,23],[45,26,10,24,"getItem"],[45,33,10,31],[45,34,10,32,"key"],[45,37,10,35],[45,38,10,36],[46,4,11,2],[46,5,11,3],[46,11,11,9],[47,6,12,4],[47,13,12,11],[47,19,12,17,"SecureStore"],[47,30,12,28],[47,31,12,29,"getItemAsync"],[47,43,12,41],[47,44,12,42,"key"],[47,47,12,45],[47,48,12,46],[48,4,13,2],[49,2,14,0],[49,3,14,1],[50,2,16,0],[50,8,16,6,"deleteStorageItem"],[50,25,16,23],[50,28,16,26],[50,34,16,33,"key"],[50,37,16,44],[50,41,16,49],[51,4,17,2],[51,8,17,6,"Platform"],[51,16,17,14],[51,17,17,14,"default"],[51,24,17,14],[51,25,17,15,"OS"],[51,27,17,17],[51,32,17,22],[51,37,17,27],[51,39,17,29],[52,6,18,4,"localStorage"],[52,18,18,16],[52,19,18,17,"removeItem"],[52,29,18,27],[52,30,18,28,"key"],[52,33,18,31],[52,34,18,32],[53,4,19,2],[53,5,19,3],[53,11,19,9],[54,6,20,4],[54,12,20,10,"SecureStore"],[54,23,20,21],[54,24,20,22,"deleteItemAsync"],[54,39,20,37],[54,40,20,38,"key"],[54,43,20,41],[54,44,20,42],[55,4,21,2],[56,2,22,0],[56,3,22,1],[57,2,24,0],[57,8,24,6,"api"],[57,11,24,9],[57,14,24,12,"axios"],[57,19,24,17],[57,20,24,17,"default"],[57,27,24,17],[57,28,24,18,"create"],[57,34,24,24],[57,35,24,25],[58,4,25,2,"baseURL"],[58,11,25,9],[58,13,25,11],[58,16,25,14,"API_URL"],[58,23,25,21],[58,29,25,27],[59,4,26,2,"timeout"],[59,11,26,9],[59,13,26,11],[59,18,26,16],[60,4,27,2,"headers"],[60,11,27,9],[60,13,27,11],[61,6,28,4],[61,20,28,18],[61,22,28,20],[62,4,29,2],[63,2,30,0],[63,3,30,1],[63,4,30,2],[65,2,32,0],[66,2,33,0,"api"],[66,5,33,3],[66,6,33,4,"interceptors"],[66,18,33,16],[66,19,33,17,"request"],[66,26,33,24],[66,27,33,25,"use"],[66,30,33,28],[66,31,34,2],[66,37,34,9,"config"],[66,43,34,15],[66,47,34,20],[67,4,35,4],[67,10,35,10,"token"],[67,15,35,15],[67,18,35,18],[67,24,35,24,"getStorageItem"],[67,38,35,38],[67,39,35,39],[67,51,35,51],[67,52,35,52],[68,4,36,4],[68,8,36,8,"token"],[68,13,36,13],[68,15,36,15],[69,6,37,6,"config"],[69,12,37,12],[69,13,37,13,"headers"],[69,20,37,20],[69,21,37,21,"Authorization"],[69,34,37,34],[69,37,37,37],[69,47,37,47,"token"],[69,52,37,52],[69,54,37,54],[70,4,38,4],[71,4,39,4],[71,11,39,11,"config"],[71,17,39,17],[72,2,40,2],[72,3,40,3],[72,5,41,3,"error"],[72,10,41,8],[72,14,41,13],[73,4,42,4],[73,11,42,11,"Promise"],[73,18,42,18],[73,19,42,19,"reject"],[73,25,42,25],[73,26,42,26,"error"],[73,31,42,31],[73,32,42,32],[74,2,43,2],[74,3,44,0],[74,4,44,1],[76,2,46,0],[77,2,47,0,"api"],[77,5,47,3],[77,6,47,4,"interceptors"],[77,18,47,16],[77,19,47,17,"response"],[77,27,47,25],[77,28,47,26,"use"],[77,31,47,29],[77,32,48,3,"response"],[77,40,48,11],[77,44,48,16,"response"],[77,52,48,24],[77,54,49,3,"error"],[77,59,49,8],[77,63,49,13],[78,4,50,4],[78,8,50,8,"error"],[78,13,50,13],[78,14,50,14,"response"],[78,22,50,22],[78,24,50,24,"status"],[78,30,50,30],[78,35,50,35],[78,38,50,38],[78,40,50,40],[79,6,51,6],[80,6,52,6,"deleteStorageItem"],[80,23,52,23],[80,24,52,24],[80,36,52,36],[80,37,52,37],[81,6,53,6,"deleteStorageItem"],[81,23,53,23],[81,24,53,24],[81,35,53,35],[81,36,53,36],[82,4,54,4],[83,4,55,4],[83,11,55,11,"Promise"],[83,18,55,18],[83,19,55,19,"reject"],[83,25,55,25],[83,26,55,26,"error"],[83,31,55,31],[83,32,55,32],[84,2,56,2],[84,3,57,0],[84,4,57,1],[85,2,59,0],[85,6,59,0,"_default"],[85,14,59,0],[85,17,59,15,"api"],[85,20,59,18],[86,0,59,19],[86,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCO;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}