{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":77},"end":{"line":3,"column":69,"index":146}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"loadDevConfig\", {\n    enumerable: true,\n    get: function () {\n      return loadDevConfig;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // DEV ONLY\n\n  // CRITICAL: This is the SHARED backend API used by both web and mobile apps\n  // This URL points to the web workspace's backend (Job: 961c0d08...)\n  // DO NOT CHANGE THIS URL unless instructed by the web developer\n  let API_URL = 'https://api-bridge-dev.preview.emergentagent.com';\n\n  // DEV ONLY: Load dev configuration\n  const loadDevConfig = async () => {\n    try {\n      const devUrl = await AsyncStorage.default.getItem('DEV_API_URL');\n      if (devUrl) {\n        API_URL = devUrl;\n        console.log('ðŸ”§ DEV: Using configured API URL:', API_URL);\n      } else {\n        console.log('ðŸ”§ DEV: Using default API URL:', API_URL);\n      }\n    } catch (error) {\n      console.log('Using default API URL');\n    }\n  };\n\n  // Call this on app startup\n  loadDevConfig();\n\n  // Log to verify correct URL is being used\n  console.log('ðŸ”— [POST-FORK-FIX-v2] Mobile App Backend URL:', API_URL);\n  console.log('âœ… Connected to shared backend (web workspace)');\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":120,"map":[[27,2,85,0,"Object"],[27,8,85,0],[27,9,85,0,"defineProperty"],[27,23,85,0],[27,24,85,0,"exports"],[27,31,85,0],[28,4,85,0,"enumerable"],[28,14,85,0],[29,4,85,0,"get"],[29,7,85,0],[29,18,85,0,"get"],[29,19,85,0],[30,6,85,0],[30,13,85,0,"_default"],[30,21,85,0],[31,4,85,0],[32,2,85,0],[33,2,12,0,"Object"],[33,8,12,0],[33,9,12,0,"defineProperty"],[33,23,12,0],[33,24,12,0,"exports"],[33,31,12,0],[34,4,12,0,"enumerable"],[34,14,12,0],[35,4,12,0,"get"],[35,7,12,0],[35,18,12,0,"get"],[35,19,12,0],[36,6,12,0],[36,13,12,0,"loadDevConfig"],[36,26,12,0],[37,4,12,0],[38,2,12,0],[39,2,1,0],[39,6,1,0,"_axios"],[39,12,1,0],[39,15,1,0,"require"],[39,22,1,0],[39,23,1,0,"_dependencyMap"],[39,37,1,0],[40,2,1,0],[40,6,1,0,"axios"],[40,11,1,0],[40,14,1,0,"_interopDefault"],[40,29,1,0],[40,30,1,0,"_axios"],[40,36,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,3,0],[43,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[43,42,3,0],[43,45,3,0,"require"],[43,52,3,0],[43,53,3,0,"_dependencyMap"],[43,67,3,0],[44,2,3,0],[44,6,3,0,"AsyncStorage"],[44,18,3,0],[44,21,3,0,"_interopDefault"],[44,36,3,0],[44,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[44,73,3,0],[45,2,3,69],[45,6,3,69,"_reactNativeWebDistExportsPlatform"],[45,40,3,69],[45,43,3,69,"require"],[45,50,3,69],[45,51,3,69,"_dependencyMap"],[45,65,3,69],[46,2,3,69],[46,6,3,69,"Platform"],[46,14,3,69],[46,17,3,69,"_interopDefault"],[46,32,3,69],[46,33,3,69,"_reactNativeWebDistExportsPlatform"],[46,67,3,69],[47,2,3,70],[49,2,6,0],[50,2,7,0],[51,2,8,0],[52,2,9,0],[52,6,9,4,"API_URL"],[52,13,9,11],[52,16,9,14],[52,66,9,64],[54,2,11,0],[55,2,12,7],[55,8,12,13,"loadDevConfig"],[55,21,12,26],[55,24,12,29],[55,30,12,29,"loadDevConfig"],[55,31,12,29],[55,36,12,41],[56,4,13,2],[56,8,13,6],[57,6,14,4],[57,12,14,10,"devUrl"],[57,18,14,16],[57,21,14,19],[57,27,14,25,"AsyncStorage"],[57,39,14,37],[57,40,14,37,"default"],[57,47,14,37],[57,48,14,38,"getItem"],[57,55,14,45],[57,56,14,46],[57,69,14,59],[57,70,14,60],[58,6,15,4],[58,10,15,8,"devUrl"],[58,16,15,14],[58,18,15,16],[59,8,16,6,"API_URL"],[59,15,16,13],[59,18,16,16,"devUrl"],[59,24,16,22],[60,8,17,6,"console"],[60,15,17,13],[60,16,17,14,"log"],[60,19,17,17],[60,20,17,18],[60,55,17,53],[60,57,17,55,"API_URL"],[60,64,17,62],[60,65,17,63],[61,6,18,4],[61,7,18,5],[61,13,18,11],[62,8,19,6,"console"],[62,15,19,13],[62,16,19,14,"log"],[62,19,19,17],[62,20,19,18],[62,52,19,50],[62,54,19,52,"API_URL"],[62,61,19,59],[62,62,19,60],[63,6,20,4],[64,4,21,2],[64,5,21,3],[64,6,21,4],[64,13,21,11,"error"],[64,18,21,16],[64,20,21,18],[65,6,22,4,"console"],[65,13,22,11],[65,14,22,12,"log"],[65,17,22,15],[65,18,22,16],[65,41,22,39],[65,42,22,40],[66,4,23,2],[67,2,24,0],[67,3,24,1],[69,2,26,0],[70,2,27,0,"loadDevConfig"],[70,15,27,13],[70,16,27,14],[70,17,27,15],[72,2,29,0],[73,2,30,0,"console"],[73,9,30,7],[73,10,30,8,"log"],[73,13,30,11],[73,14,30,12],[73,61,30,59],[73,63,30,61,"API_URL"],[73,70,30,68],[73,71,30,69],[74,2,31,0,"console"],[74,9,31,7],[74,10,31,8,"log"],[74,13,31,11],[74,14,31,12],[74,61,31,59],[74,62,31,60],[76,2,33,0],[77,2,34,0],[77,8,34,6,"getStorageItem"],[77,22,34,20],[77,25,34,23],[77,31,34,30,"key"],[77,34,34,41],[77,38,34,46],[78,4,35,2],[78,8,35,6,"Platform"],[78,16,35,14],[78,17,35,14,"default"],[78,24,35,14],[78,25,35,15,"OS"],[78,27,35,17],[78,32,35,22],[78,37,35,27],[78,39,35,29],[79,6,36,4],[79,13,36,11,"localStorage"],[79,25,36,23],[79,26,36,24,"getItem"],[79,33,36,31],[79,34,36,32,"key"],[79,37,36,35],[79,38,36,36],[80,4,37,2],[80,5,37,3],[80,11,37,9],[81,6,38,4],[81,13,38,11],[81,19,38,17,"SecureStore"],[81,30,38,28],[81,31,38,29,"getItemAsync"],[81,43,38,41],[81,44,38,42,"key"],[81,47,38,45],[81,48,38,46],[82,4,39,2],[83,2,40,0],[83,3,40,1],[84,2,42,0],[84,8,42,6,"deleteStorageItem"],[84,25,42,23],[84,28,42,26],[84,34,42,33,"key"],[84,37,42,44],[84,41,42,49],[85,4,43,2],[85,8,43,6,"Platform"],[85,16,43,14],[85,17,43,14,"default"],[85,24,43,14],[85,25,43,15,"OS"],[85,27,43,17],[85,32,43,22],[85,37,43,27],[85,39,43,29],[86,6,44,4,"localStorage"],[86,18,44,16],[86,19,44,17,"removeItem"],[86,29,44,27],[86,30,44,28,"key"],[86,33,44,31],[86,34,44,32],[87,4,45,2],[87,5,45,3],[87,11,45,9],[88,6,46,4],[88,12,46,10,"SecureStore"],[88,23,46,21],[88,24,46,22,"deleteItemAsync"],[88,39,46,37],[88,40,46,38,"key"],[88,43,46,41],[88,44,46,42],[89,4,47,2],[90,2,48,0],[90,3,48,1],[91,2,50,0],[91,8,50,6,"api"],[91,11,50,9],[91,14,50,12,"axios"],[91,19,50,17],[91,20,50,17,"default"],[91,27,50,17],[91,28,50,18,"create"],[91,34,50,24],[91,35,50,25],[92,4,51,2,"baseURL"],[92,11,51,9],[92,13,51,11],[92,16,51,14,"API_URL"],[92,23,51,21],[92,29,51,27],[93,4,52,2,"timeout"],[93,11,52,9],[93,13,52,11],[93,18,52,16],[94,4,53,2,"headers"],[94,11,53,9],[94,13,53,11],[95,6,54,4],[95,20,54,18],[95,22,54,20],[96,4,55,2],[97,2,56,0],[97,3,56,1],[97,4,56,2],[99,2,58,0],[100,2,59,0,"api"],[100,5,59,3],[100,6,59,4,"interceptors"],[100,18,59,16],[100,19,59,17,"request"],[100,26,59,24],[100,27,59,25,"use"],[100,30,59,28],[100,31,60,2],[100,37,60,9,"config"],[100,43,60,15],[100,47,60,20],[101,4,61,4],[101,10,61,10,"token"],[101,15,61,15],[101,18,61,18],[101,24,61,24,"getStorageItem"],[101,38,61,38],[101,39,61,39],[101,51,61,51],[101,52,61,52],[102,4,62,4],[102,8,62,8,"token"],[102,13,62,13],[102,15,62,15],[103,6,63,6,"config"],[103,12,63,12],[103,13,63,13,"headers"],[103,20,63,20],[103,21,63,21,"Authorization"],[103,34,63,34],[103,37,63,37],[103,47,63,47,"token"],[103,52,63,52],[103,54,63,54],[104,4,64,4],[105,4,65,4],[105,11,65,11,"config"],[105,17,65,17],[106,2,66,2],[106,3,66,3],[106,5,67,3,"error"],[106,10,67,8],[106,14,67,13],[107,4,68,4],[107,11,68,11,"Promise"],[107,18,68,18],[107,19,68,19,"reject"],[107,25,68,25],[107,26,68,26,"error"],[107,31,68,31],[107,32,68,32],[108,2,69,2],[108,3,70,0],[108,4,70,1],[110,2,72,0],[111,2,73,0,"api"],[111,5,73,3],[111,6,73,4,"interceptors"],[111,18,73,16],[111,19,73,17,"response"],[111,27,73,25],[111,28,73,26,"use"],[111,31,73,29],[111,32,74,3,"response"],[111,40,74,11],[111,44,74,16,"response"],[111,52,74,24],[111,54,75,3,"error"],[111,59,75,8],[111,63,75,13],[112,4,76,4],[112,8,76,8,"error"],[112,13,76,13],[112,14,76,14,"response"],[112,22,76,22],[112,24,76,24,"status"],[112,30,76,30],[112,35,76,35],[112,38,76,38],[112,40,76,40],[113,6,77,6],[114,6,78,6,"deleteStorageItem"],[114,23,78,23],[114,24,78,24],[114,36,78,36],[114,37,78,37],[115,6,79,6,"deleteStorageItem"],[115,23,79,23],[115,24,79,24],[115,35,79,35],[115,36,79,36],[116,4,80,4],[117,4,81,4],[117,11,81,11,"Promise"],[117,18,81,18],[117,19,81,19,"reject"],[117,25,81,25],[117,26,81,26,"error"],[117,31,81,31],[117,32,81,32],[118,2,82,2],[118,3,83,0],[118,4,83,1],[119,2,85,0],[119,6,85,0,"_default"],[119,14,85,0],[119,17,85,15,"api"],[119,20,85,18],[120,0,85,19],[120,3]],"functionMap":{"names":["<global>","loadDevConfig","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;6BCW;CDY;uBEU;CFM;0BGE;CHM;EIY;GJM;EKC;GLE;EMK,sBN;EOC;GPO"},"hasCjsExports":false},"type":"js/module"}]}