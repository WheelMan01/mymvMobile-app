{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../backend-config.json","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":118},"end":{"line":4,"column":51,"index":169}}],"key":"Yg9oI/i39ksdVhZMppaxMFSSHg8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _backendConfigJson = require(_dependencyMap[4], \"../backend-config.json\");\n  var backendConfig = _interopDefault(_backendConfigJson);\n  // PERMANENT FIX: Read from backend-config.json first (survives forks), then fall back to .env\n  const API_URL = backendConfig.default.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":89,"map":[[27,2,61,0,"Object"],[27,8,61,0],[27,9,61,0,"defineProperty"],[27,23,61,0],[27,24,61,0,"exports"],[27,31,61,0],[28,4,61,0,"enumerable"],[28,14,61,0],[29,4,61,0,"get"],[29,7,61,0],[29,18,61,0,"get"],[29,19,61,0],[30,6,61,0],[30,13,61,0,"_default"],[30,21,61,0],[31,4,61,0],[32,2,61,0],[33,2,61,19],[33,6,61,19,"_expoVirtualEnv"],[33,21,61,19],[33,24,61,19,"require"],[33,31,61,19],[33,32,61,19,"_dependencyMap"],[33,46,61,19],[34,2,1,0],[34,6,1,0,"_axios"],[34,12,1,0],[34,15,1,0,"require"],[34,22,1,0],[34,23,1,0,"_dependencyMap"],[34,37,1,0],[35,2,1,0],[35,6,1,0,"axios"],[35,11,1,0],[35,14,1,0,"_interopDefault"],[35,29,1,0],[35,30,1,0,"_axios"],[35,36,1,0],[36,2,2,0],[36,6,2,0,"_expoSecureStore"],[36,22,2,0],[36,25,2,0,"require"],[36,32,2,0],[36,33,2,0,"_dependencyMap"],[36,47,2,0],[37,2,2,0],[37,6,2,0,"SecureStore"],[37,17,2,0],[37,20,2,0,"_interopNamespace"],[37,37,2,0],[37,38,2,0,"_expoSecureStore"],[37,54,2,0],[38,2,2,49],[38,6,2,49,"_reactNativeWebDistExportsPlatform"],[38,40,2,49],[38,43,2,49,"require"],[38,50,2,49],[38,51,2,49,"_dependencyMap"],[38,65,2,49],[39,2,2,49],[39,6,2,49,"Platform"],[39,14,2,49],[39,17,2,49,"_interopDefault"],[39,32,2,49],[39,33,2,49,"_reactNativeWebDistExportsPlatform"],[39,67,2,49],[40,2,4,0],[40,6,4,0,"_backendConfigJson"],[40,24,4,0],[40,27,4,0,"require"],[40,34,4,0],[40,35,4,0,"_dependencyMap"],[40,49,4,0],[41,2,4,0],[41,6,4,0,"backendConfig"],[41,19,4,0],[41,22,4,0,"_interopDefault"],[41,37,4,0],[41,38,4,0,"_backendConfigJson"],[41,56,4,0],[42,2,6,0],[43,2,7,0],[43,8,7,6,"API_URL"],[43,15,7,13],[43,18,7,16,"backendConfig"],[43,31,7,29],[43,32,7,29,"default"],[43,39,7,29],[43,40,7,30,"backendUrl"],[43,50,7,40],[43,54,7,40,"_expoVirtualEnv"],[43,69,7,40],[43,70,7,40,"env"],[43,73,7,40],[43,74,7,40,"EXPO_PUBLIC_BACKEND_URL"],[43,97,7,79],[45,2,9,0],[46,2,10,0],[46,8,10,6,"getStorageItem"],[46,22,10,20],[46,25,10,23],[46,31,10,30,"key"],[46,34,10,41],[46,38,10,46],[47,4,11,2],[47,8,11,6,"Platform"],[47,16,11,14],[47,17,11,14,"default"],[47,24,11,14],[47,25,11,15,"OS"],[47,27,11,17],[47,32,11,22],[47,37,11,27],[47,39,11,29],[48,6,12,4],[48,13,12,11,"localStorage"],[48,25,12,23],[48,26,12,24,"getItem"],[48,33,12,31],[48,34,12,32,"key"],[48,37,12,35],[48,38,12,36],[49,4,13,2],[49,5,13,3],[49,11,13,9],[50,6,14,4],[50,13,14,11],[50,19,14,17,"SecureStore"],[50,30,14,28],[50,31,14,29,"getItemAsync"],[50,43,14,41],[50,44,14,42,"key"],[50,47,14,45],[50,48,14,46],[51,4,15,2],[52,2,16,0],[52,3,16,1],[53,2,18,0],[53,8,18,6,"deleteStorageItem"],[53,25,18,23],[53,28,18,26],[53,34,18,33,"key"],[53,37,18,44],[53,41,18,49],[54,4,19,2],[54,8,19,6,"Platform"],[54,16,19,14],[54,17,19,14,"default"],[54,24,19,14],[54,25,19,15,"OS"],[54,27,19,17],[54,32,19,22],[54,37,19,27],[54,39,19,29],[55,6,20,4,"localStorage"],[55,18,20,16],[55,19,20,17,"removeItem"],[55,29,20,27],[55,30,20,28,"key"],[55,33,20,31],[55,34,20,32],[56,4,21,2],[56,5,21,3],[56,11,21,9],[57,6,22,4],[57,12,22,10,"SecureStore"],[57,23,22,21],[57,24,22,22,"deleteItemAsync"],[57,39,22,37],[57,40,22,38,"key"],[57,43,22,41],[57,44,22,42],[58,4,23,2],[59,2,24,0],[59,3,24,1],[60,2,26,0],[60,8,26,6,"api"],[60,11,26,9],[60,14,26,12,"axios"],[60,19,26,17],[60,20,26,17,"default"],[60,27,26,17],[60,28,26,18,"create"],[60,34,26,24],[60,35,26,25],[61,4,27,2,"baseURL"],[61,11,27,9],[61,13,27,11],[61,16,27,14,"API_URL"],[61,23,27,21],[61,29,27,27],[62,4,28,2,"timeout"],[62,11,28,9],[62,13,28,11],[62,18,28,16],[63,4,29,2,"headers"],[63,11,29,9],[63,13,29,11],[64,6,30,4],[64,20,30,18],[64,22,30,20],[65,4,31,2],[66,2,32,0],[66,3,32,1],[66,4,32,2],[68,2,34,0],[69,2,35,0,"api"],[69,5,35,3],[69,6,35,4,"interceptors"],[69,18,35,16],[69,19,35,17,"request"],[69,26,35,24],[69,27,35,25,"use"],[69,30,35,28],[69,31,36,2],[69,37,36,9,"config"],[69,43,36,15],[69,47,36,20],[70,4,37,4],[70,10,37,10,"token"],[70,15,37,15],[70,18,37,18],[70,24,37,24,"getStorageItem"],[70,38,37,38],[70,39,37,39],[70,51,37,51],[70,52,37,52],[71,4,38,4],[71,8,38,8,"token"],[71,13,38,13],[71,15,38,15],[72,6,39,6,"config"],[72,12,39,12],[72,13,39,13,"headers"],[72,20,39,20],[72,21,39,21,"Authorization"],[72,34,39,34],[72,37,39,37],[72,47,39,47,"token"],[72,52,39,52],[72,54,39,54],[73,4,40,4],[74,4,41,4],[74,11,41,11,"config"],[74,17,41,17],[75,2,42,2],[75,3,42,3],[75,5,43,3,"error"],[75,10,43,8],[75,14,43,13],[76,4,44,4],[76,11,44,11,"Promise"],[76,18,44,18],[76,19,44,19,"reject"],[76,25,44,25],[76,26,44,26,"error"],[76,31,44,31],[76,32,44,32],[77,2,45,2],[77,3,46,0],[77,4,46,1],[79,2,48,0],[80,2,49,0,"api"],[80,5,49,3],[80,6,49,4,"interceptors"],[80,18,49,16],[80,19,49,17,"response"],[80,27,49,25],[80,28,49,26,"use"],[80,31,49,29],[80,32,50,3,"response"],[80,40,50,11],[80,44,50,16,"response"],[80,52,50,24],[80,54,51,3,"error"],[80,59,51,8],[80,63,51,13],[81,4,52,4],[81,8,52,8,"error"],[81,13,52,13],[81,14,52,14,"response"],[81,22,52,22],[81,24,52,24,"status"],[81,30,52,30],[81,35,52,35],[81,38,52,38],[81,40,52,40],[82,6,53,6],[83,6,54,6,"deleteStorageItem"],[83,23,54,23],[83,24,54,24],[83,36,54,36],[83,37,54,37],[84,6,55,6,"deleteStorageItem"],[84,23,55,23],[84,24,55,24],[84,35,55,35],[84,36,55,36],[85,4,56,4],[86,4,57,4],[86,11,57,11,"Promise"],[86,18,57,18],[86,19,57,19,"reject"],[86,25,57,25],[86,26,57,26,"error"],[86,31,57,31],[86,32,57,32],[87,2,58,2],[87,3,59,0],[87,4,59,1],[88,2,61,0],[88,6,61,0,"_default"],[88,14,61,0],[88,17,61,15,"api"],[88,20,61,18],[89,0,61,19],[89,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCS;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}