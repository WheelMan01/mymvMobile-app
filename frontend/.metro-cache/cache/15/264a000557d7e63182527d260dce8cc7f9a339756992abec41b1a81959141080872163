{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"API_URL\", {\n    enumerable: true,\n    get: function () {\n      return API_URL;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // CRITICAL: This is the SHARED backend API used by both web and mobile apps\n  // This URL points to the web workspace's backend (Job: 961c0d08...)\n  // DO NOT CHANGE THIS URL unless instructed by the web developer\n  const API_URL = 'https://fork-safe-auth.preview.emergentagent.com';\n\n  // Log to verify correct URL is being used\n  console.log('ðŸ”— [POST-FORK-FIX-v2] Mobile App Backend URL:', API_URL);\n  console.log('âœ… Connected to shared backend (web workspace)');\n\n  // Storage helpers that work on both web and native\n  const getStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      return localStorage.getItem(key);\n    } else {\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  const deleteStorageItem = async key => {\n    if (Platform.default.OS === 'web') {\n      localStorage.removeItem(key);\n    } else {\n      await SecureStore.deleteItemAsync(key);\n    }\n  };\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await getStorageItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      deleteStorageItem('auth_token');\n      deleteStorageItem('user_data');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":98,"map":[[27,2,66,0,"Object"],[27,8,66,0],[27,9,66,0,"defineProperty"],[27,23,66,0],[27,24,66,0,"exports"],[27,31,66,0],[28,4,66,0,"enumerable"],[28,14,66,0],[29,4,66,0,"get"],[29,7,66,0],[29,18,66,0,"get"],[29,19,66,0],[30,6,66,0],[30,13,66,0,"_default"],[30,21,66,0],[31,4,66,0],[32,2,66,0],[33,2,8,0,"Object"],[33,8,8,0],[33,9,8,0,"defineProperty"],[33,23,8,0],[33,24,8,0,"exports"],[33,31,8,0],[34,4,8,0,"enumerable"],[34,14,8,0],[35,4,8,0,"get"],[35,7,8,0],[35,18,8,0,"get"],[35,19,8,0],[36,6,8,0],[36,13,8,0,"API_URL"],[36,20,8,0],[37,4,8,0],[38,2,8,0],[39,2,1,0],[39,6,1,0,"_axios"],[39,12,1,0],[39,15,1,0,"require"],[39,22,1,0],[39,23,1,0,"_dependencyMap"],[39,37,1,0],[40,2,1,0],[40,6,1,0,"axios"],[40,11,1,0],[40,14,1,0,"_interopDefault"],[40,29,1,0],[40,30,1,0,"_axios"],[40,36,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,2,49],[43,6,2,49,"_reactNativeWebDistExportsPlatform"],[43,40,2,49],[43,43,2,49,"require"],[43,50,2,49],[43,51,2,49,"_dependencyMap"],[43,65,2,49],[44,2,2,49],[44,6,2,49,"Platform"],[44,14,2,49],[44,17,2,49,"_interopDefault"],[44,32,2,49],[44,33,2,49,"_reactNativeWebDistExportsPlatform"],[44,67,2,49],[45,2,5,0],[46,2,6,0],[47,2,7,0],[48,2,8,7],[48,8,8,13,"API_URL"],[48,15,8,20],[48,18,8,23],[48,68,8,73],[50,2,10,0],[51,2,11,0,"console"],[51,9,11,7],[51,10,11,8,"log"],[51,13,11,11],[51,14,11,12],[51,61,11,59],[51,63,11,61,"API_URL"],[51,70,11,68],[51,71,11,69],[52,2,12,0,"console"],[52,9,12,7],[52,10,12,8,"log"],[52,13,12,11],[52,14,12,12],[52,61,12,59],[52,62,12,60],[54,2,14,0],[55,2,15,0],[55,8,15,6,"getStorageItem"],[55,22,15,20],[55,25,15,23],[55,31,15,30,"key"],[55,34,15,41],[55,38,15,46],[56,4,16,2],[56,8,16,6,"Platform"],[56,16,16,14],[56,17,16,14,"default"],[56,24,16,14],[56,25,16,15,"OS"],[56,27,16,17],[56,32,16,22],[56,37,16,27],[56,39,16,29],[57,6,17,4],[57,13,17,11,"localStorage"],[57,25,17,23],[57,26,17,24,"getItem"],[57,33,17,31],[57,34,17,32,"key"],[57,37,17,35],[57,38,17,36],[58,4,18,2],[58,5,18,3],[58,11,18,9],[59,6,19,4],[59,13,19,11],[59,19,19,17,"SecureStore"],[59,30,19,28],[59,31,19,29,"getItemAsync"],[59,43,19,41],[59,44,19,42,"key"],[59,47,19,45],[59,48,19,46],[60,4,20,2],[61,2,21,0],[61,3,21,1],[62,2,23,0],[62,8,23,6,"deleteStorageItem"],[62,25,23,23],[62,28,23,26],[62,34,23,33,"key"],[62,37,23,44],[62,41,23,49],[63,4,24,2],[63,8,24,6,"Platform"],[63,16,24,14],[63,17,24,14,"default"],[63,24,24,14],[63,25,24,15,"OS"],[63,27,24,17],[63,32,24,22],[63,37,24,27],[63,39,24,29],[64,6,25,4,"localStorage"],[64,18,25,16],[64,19,25,17,"removeItem"],[64,29,25,27],[64,30,25,28,"key"],[64,33,25,31],[64,34,25,32],[65,4,26,2],[65,5,26,3],[65,11,26,9],[66,6,27,4],[66,12,27,10,"SecureStore"],[66,23,27,21],[66,24,27,22,"deleteItemAsync"],[66,39,27,37],[66,40,27,38,"key"],[66,43,27,41],[66,44,27,42],[67,4,28,2],[68,2,29,0],[68,3,29,1],[69,2,31,0],[69,8,31,6,"api"],[69,11,31,9],[69,14,31,12,"axios"],[69,19,31,17],[69,20,31,17,"default"],[69,27,31,17],[69,28,31,18,"create"],[69,34,31,24],[69,35,31,25],[70,4,32,2,"baseURL"],[70,11,32,9],[70,13,32,11],[70,16,32,14,"API_URL"],[70,23,32,21],[70,29,32,27],[71,4,33,2,"timeout"],[71,11,33,9],[71,13,33,11],[71,18,33,16],[72,4,34,2,"headers"],[72,11,34,9],[72,13,34,11],[73,6,35,4],[73,20,35,18],[73,22,35,20],[74,4,36,2],[75,2,37,0],[75,3,37,1],[75,4,37,2],[77,2,39,0],[78,2,40,0,"api"],[78,5,40,3],[78,6,40,4,"interceptors"],[78,18,40,16],[78,19,40,17,"request"],[78,26,40,24],[78,27,40,25,"use"],[78,30,40,28],[78,31,41,2],[78,37,41,9,"config"],[78,43,41,15],[78,47,41,20],[79,4,42,4],[79,10,42,10,"token"],[79,15,42,15],[79,18,42,18],[79,24,42,24,"getStorageItem"],[79,38,42,38],[79,39,42,39],[79,51,42,51],[79,52,42,52],[80,4,43,4],[80,8,43,8,"token"],[80,13,43,13],[80,15,43,15],[81,6,44,6,"config"],[81,12,44,12],[81,13,44,13,"headers"],[81,20,44,20],[81,21,44,21,"Authorization"],[81,34,44,34],[81,37,44,37],[81,47,44,47,"token"],[81,52,44,52],[81,54,44,54],[82,4,45,4],[83,4,46,4],[83,11,46,11,"config"],[83,17,46,17],[84,2,47,2],[84,3,47,3],[84,5,48,3,"error"],[84,10,48,8],[84,14,48,13],[85,4,49,4],[85,11,49,11,"Promise"],[85,18,49,18],[85,19,49,19,"reject"],[85,25,49,25],[85,26,49,26,"error"],[85,31,49,31],[85,32,49,32],[86,2,50,2],[86,3,51,0],[86,4,51,1],[88,2,53,0],[89,2,54,0,"api"],[89,5,54,3],[89,6,54,4,"interceptors"],[89,18,54,16],[89,19,54,17,"response"],[89,27,54,25],[89,28,54,26,"use"],[89,31,54,29],[89,32,55,3,"response"],[89,40,55,11],[89,44,55,16,"response"],[89,52,55,24],[89,54,56,3,"error"],[89,59,56,8],[89,63,56,13],[90,4,57,4],[90,8,57,8,"error"],[90,13,57,13],[90,14,57,14,"response"],[90,22,57,22],[90,24,57,24,"status"],[90,30,57,30],[90,35,57,35],[90,38,57,38],[90,40,57,40],[91,6,58,6],[92,6,59,6,"deleteStorageItem"],[92,23,59,23],[92,24,59,24],[92,36,59,36],[92,37,59,37],[93,6,60,6,"deleteStorageItem"],[93,23,60,23],[93,24,60,24],[93,35,60,35],[93,36,60,36],[94,4,61,4],[95,4,62,4],[95,11,62,11,"Promise"],[95,18,62,18],[95,19,62,19,"reject"],[95,25,62,25],[95,26,62,26,"error"],[95,31,62,31],[95,32,62,32],[96,2,63,2],[96,3,64,0],[96,4,64,1],[97,2,66,0],[97,6,66,0,"_default"],[97,14,66,0],[97,17,66,15,"api"],[97,20,66,18],[98,0,66,19],[98,3]],"functionMap":{"names":["<global>","getStorageItem","deleteStorageItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;uBCc;CDM;0BEE;CFM;EGY;GHM;EIC;GJE;EKK,sBL;EMC;GNO"},"hasCjsExports":false},"type":"js/module"}]}